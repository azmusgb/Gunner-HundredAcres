<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"/>
    <title>Honey Hunt ‚Äî Ultimate Edition</title>
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport"/>
    <meta content="Collect honey, dodge bees, stack streaks, and unlock power-ups in this cozy Hundred Acre Wood‚Äìinspired honey hunt."
          name="description"/>
    <meta content="light dark" name="color-scheme"/>
    <meta content="#ffb23a" name="theme-color"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" rel="stylesheet"/>
    <link rel="preconnect" href="https://cdnjs.cloudflare.com">
    <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
    <noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"></noscript>
        <link rel="stylesheet" href="styles.css">
</head>
<body>
<a href="#gameCanvas" class="skip-link sr-only">Skip to game</a>
<div class="app">
    <header class="topbar">
        <div class="title">
            <span aria-hidden="true" class="title-icon">üçØ</span>
            <div class="title-text">
                <span class="title-main">Honey Hunt</span>
                <span class="title-sub">Catch the honey, dodge the bees, stack the streaks.</span>
            </div>
        </div>
        <div class="topbar-buttons">
            <button aria-pressed="false" class="btn small secondary" id="themeToggle" type="button">
                <i aria-hidden="true" class="fas fa-moon"></i>
                <span>Theme</span>
            </button>
            <button class="btn small secondary" id="fullscreenToggle" type="button">
                <i aria-hidden="true" class="fas fa-up-right-and-down-left-from-center"></i>
                <span>Fullscreen</span>
            </button>
            <button aria-controls="helpPanel" aria-expanded="false" class="btn small secondary" id="helpToggle"
                    type="button">
                <i aria-hidden="true" class="fas fa-question-circle"></i>
                <span>Help</span>
            </button>
            <button aria-controls="settingsPanel" aria-expanded="false" class="btn small primary" id="settingsToggle"
                    type="button">
                <i aria-hidden="true" class="fas fa-sliders-h"></i>
                <span>Settings</span>
            </button>
        </div>
    </header>
    <main class="game-layout">
        <div class="viewport-shell">
            <section aria-label="Honey Hunt game" class="game-card">
                <div class="game-container" id="gameContainer">
                    <!-- Tutorial Overlay -->
                    <div aria-hidden="true" class="tutorial-overlay" id="tutorialOverlay">
                        <div class="tutorial-card">
                            <div class="tutorial-step active" data-step="1">
                                <h3 class="tutorial-title">Welcome to Honey Hunt!</h3>
                                <p class="tutorial-text">Move your bear left and right to catch honey jars. Avoid the bees to keep your streak alive!</p>
                            </div>
                            <div class="tutorial-step" data-step="2">
                                <h3 class="tutorial-title">Power-ups</h3>
                                <p class="tutorial-text">Collect special jars for power-ups: Double Points, Slow Time, Magnet, and Bee Repellent!</p>
                            </div>
                            <div class="tutorial-step" data-step="3">
                                <h3 class="tutorial-title">Daily Challenges</h3>
                                <p class="tutorial-text">Complete daily challenges for special rewards. Check the panel in the top left!</p>
                            </div>
                            <div class="tutorial-step" data-step="4">
                                <h3 class="tutorial-title">Bear Evolution</h3>
                                <p class="tutorial-text">Your bear evolves as you score points. Reach new levels for special hats and abilities!</p>
                            </div>
                            <div class="tutorial-dots">
                                <div class="tutorial-dot active" data-step="1"></div>
                                <div class="tutorial-dot" data-step="2"></div>
                                <div class="tutorial-dot" data-step="3"></div>
                                <div class="tutorial-dot" data-step="4"></div>
                            </div>
                            <div class="tutorial-buttons">
                                <button class="btn secondary" id="skipTutorial" type="button">Skip Tutorial</button>
                                <button class="btn primary" id="nextTutorial" type="button">Next</button>
                                <button class="btn primary" id="startTutorial" type="button" style="display: none;">Start Game</button>
                            </div>
                        </div>
                    </div>

                    <!-- Daily Challenge Panel -->
                    <div id="dailyChallengePanel" class="daily-challenge-panel">
                        <div class="daily-challenge-title">Daily Challenge</div>
                        <div id="dailyChallengeText" class="daily-challenge-text"></div>
                        <div class="daily-challenge-progress">
                            <div id="dailyChallengeProgress" class="daily-challenge-progress-fill"></div>
                        </div>
                        <div id="dailyChallengeReward" class="daily-challenge-reward"></div>
                    </div>

                    <!-- Evolution Display -->
                    <div id="evolutionDisplay" class="evolution-display"></div>

                    <!-- Power-up Indicators will be injected here by JavaScript -->

                    <!-- Game Background -->
                    <div class="game-bg-horizon"></div>
                    <div class="game-bg-ground"></div>

                    <!-- HUD -->
                    <div aria-live="polite" class="hud">
                        <div class="hud-item">
                            <span class="hud-label">Score</span>
                            <span class="hud-value" id="scoreValue">0</span>
                        </div>
                        <div class="hud-item">
                            <span class="hud-label">Best</span>
                            <span class="hud-value" id="bestValue">0</span>
                        </div>
                        <div class="hud-item">
                            <span class="hud-label">Time</span>
                            <span class="hud-value" id="timeValue">60</span>
                        </div>
                        <div class="hud-item">
                            <span class="hud-label">Lives</span>
                            <span class="hud-value" id="livesValue">‚ô•‚ô•‚ô•</span>
                        </div>
                        <div class="hud-item streak">
                            <span class="hud-label">Streak</span>
                            <span class="hud-value" id="streakValue">0</span>
                            <span class="streak-badge" id="streakBadge">Combo!</span>
                        </div>
                    </div>

                    <!-- Combo Indicator -->
                    <div class="combo-indicator" id="comboIndicator">x2 Combo!</div>

                    <!-- Power-up Indicator -->
                    <div aria-hidden="true" class="powerup-indicator" id="powerupIndicator">
                        <i aria-hidden="true" class="fas fa-bolt"></i>
                        <span>Shield active</span>
                    </div>

                    <!-- Game Canvas -->
                    <canvas aria-label="Honey Hunt playfield" id="gameCanvas" role="img"></canvas>

                    <!-- Overlays -->
                    <div aria-hidden="false" class="overlay visible" id="startOverlay">
                        <div class="overlay-card">
                            <h2 class="overlay-title">Ready to hunt?</h2>
                            <p class="overlay-sub">
                                Move your bear left and right to catch honey jars and dodge bees.
                                Chain catches for big combos.
                            </p>
                            <div class="overlay-stats">
                                <div>
                                    <div class="overlay-stat-label">Best</div>
                                    <div class="overlay-stat-value" id="overlayBest">0</div>
                                </div>
                                <div>
                                    <div class="overlay-stat-label">Games</div>
                                    <div class="overlay-stat-value" id="overlayGames">0</div>
                                </div>
                            </div>
                            <button class="btn primary" id="startButton" type="button">
                                <i aria-hidden="true" class="fas fa-play"></i>
                                <span>Start</span>
                            </button>
                            <button class="btn secondary" id="shareScoreButton" type="button" style="margin-top: 8px;">
                                <i aria-hidden="true" class="fas fa-share-alt"></i>
                                <span>Share Score</span>
                            </button>
                        </div>
                    </div>

                    <div aria-hidden="true" class="overlay" id="pauseOverlay">
                        <div class="overlay-card">
                            <h2 class="overlay-title">Paused</h2>
                            <p class="overlay-sub">Stretch your paws. The bees will wait (for now).</p>
                            <button class="btn primary" id="resumeButton" type="button">
                                <i aria-hidden="true" class="fas fa-play"></i>
                                <span>Resume</span>
                            </button>
                        </div>
                    </div>

                    <div aria-hidden="true" class="overlay" id="gameOverOverlay">
                        <div class="overlay-card">
                            <h2 class="overlay-title">Game over</h2>
                            <p class="overlay-sub">The bees won this round, but the honey's still out there.</p>
                            <div class="overlay-stats">
                                <div>
                                    <div class="overlay-stat-label">Score</div>
                                    <div class="overlay-stat-value" id="finalScore">0</div>
                                </div>
                                <div>
                                    <div class="overlay-stat-label">Best</div>
                                    <div class="overlay-stat-value" id="finalBest">0</div>
                                </div>
                            </div>
                            <button class="btn primary" id="restartButton" type="button">
                                <i aria-hidden="true" class="fas fa-rotate-right"></i>
                                <span>Play again</span>
                            </button>
                            <button class="btn secondary" id="shareScoreButton2" type="button" style="margin-top: 8px;">
                                <i aria-hidden="true" class="fas fa-share-alt"></i>
                                <span>Share Score</span>
                            </button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Mobile Controls -->
            <div class="controls-bar" style="display: none;">
                <button aria-label="Move left" class="control-button" id="btnLeft" type="button">
                    <i aria-hidden="true" class="fas fa-arrow-left"></i>
                </button>
                <button aria-label="Pause game" class="control-button pause" id="pauseBtn" type="button">
                    <i aria-hidden="true" class="fas fa-pause"></i>
                </button>
                <button aria-label="Move right" class="control-button" id="btnRight" type="button">
                    <i aria-hidden="true" class="fas fa-arrow-right"></i>
                </button>
            </div>

            <button aria-controls="helpPanel" aria-expanded="false" class="help-toggle" id="helpToggleSecondary"
                    type="button">
                <i aria-hidden="true" class="fas fa-lightbulb"></i>
                <span>Quick tips</span>
            </button>
            <section aria-hidden="true" aria-label="How to play Honey Hunt" class="help-panel" id="helpPanel">
                <div class="help-columns">
                    <div>
                        <div class="help-heading">How to play</div>
                        <ul class="help-list">
                            <li>Move your bear with the arrow keys or on-screen pads.</li>
                            <li>Catching honey jars adds score. Golden jars give bonus points.</li>
                            <li>Hitting a bee costs a life and breaks your streak.</li>
                            <li>Blue jars grant a temporary shield that blocks one bee.</li>
                            <li>Finish the 60 second hunt with the highest score you can.</li>
                        </ul>
                    </div>
                    <div>
                        <div class="help-heading">Scoring &amp; streaks</div>
                        <ul class="help-list">
                            <li>Each jar adds points; combos increase the value of each catch.</li>
                            <li>Keep catching jars without missing to grow your streak meter.</li>
                            <li>Streaks unlock big combo bursts. Watch the Combo indicator.</li>
                            <li>Your best score is saved on this device between games.</li>
                        </ul>
                    </div>
                </div>
            </section>
        </div>
    </main>
</div>

<!-- Settings Modal -->
<div aria-labelledby="settingsTitle" aria-modal="true" class="settings-backdrop" id="settingsModal" role="dialog">
    <div class="settings-panel" id="settingsPanel" tabindex="-1">
        <div class="settings-header">
            <div class="settings-title" id="settingsTitle">Game settings</div>
            <button class="btn small secondary" id="settingsClose" type="button">
                <i aria-hidden="true" class="fas fa-times"></i>
                <span>Close</span>
            </button>
        </div>
        <div class="settings-row">
            <div class="settings-label">
                <span>Music</span>
                <span>Background tune while you play.</span>
            </div>
            <button aria-pressed="true" class="toggle" data-on="true" id="musicToggle" type="button">
                <span class="toggle-knob"></span>
                <span class="sr-only">Toggle music</span>
            </button>
        </div>
        <div class="settings-row">
            <div class="settings-label">
                <span>Sound effects</span>
                <span>Jar catches, bees, and combo pops.</span>
            </div>
            <button aria-pressed="true" class="toggle" data-on="true" id="sfxToggle" type="button">
                <span class="toggle-knob"></span>
                <span class="sr-only">Toggle sound effects</span>
            </button>
        </div>
        <div class="settings-row">
            <div class="settings-label">
                <span>Difficulty</span>
                <span>Changes jar speed and bee frequency.</span>
            </div>
            <div aria-label="Difficulty" class="difficulty-pill" role="radiogroup">
                <button class="diff-btn" data-level="0" type="button">Chill</button>
                <button class="diff-btn active" data-level="1" type="button">Classic</button>
                <button class="diff-btn" data-level="2" type="button">Spicy</button>
            </div>
        </div>
        <div class="settings-footer">
            <span>High score: <strong id="settingsBest">0</strong></span>
            <button class="btn small secondary" id="resetProgress" type="button">
                <i aria-hidden="true" class="fas fa-broom"></i>
                <span>Reset progress</span>
            </button>
        </div>
    </div>
</div>

<!-- Live Region for Accessibility -->
<div aria-atomic="true" aria-live="polite" class="sr-only" id="liveRegion"></div>

<!-- Game JavaScript -->
<script>
    // Quick check to ensure game.js loads properly
    window.addEventListener('DOMContentLoaded', function() {
        console.log('Honey Hunt HTML loaded successfully');

        // Add a simple check to see if game.js loaded
        setTimeout(function() {
            if (typeof init !== 'undefined') {
                console.log('Game script found and ready');
            } else {
                console.warn('Game script not loaded yet - ensure game.js is in same directory');
            }
        }, 100);
    });
</script>
<script src="game.js"></script>
</body>
</html>
