<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport">
    <title>Baby Gunnar's Hundred Acre Wood Adventure</title>
    <meta content="A storybook-style Hundred Acre Wood adventure with a honey-catching game to celebrate Baby Gunnar."
          name="description">
    <meta content="#f4a944" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <meta content="Baby Gunnar's Hundred Acre Wood Shower" property="og:title">
    <meta content="A sweet storybook and honey-catching game—read, play, and leave your wishes."
          property="og:description">
    <meta content="icons/icon.svg" property="og:image">
    <meta content="website" property="og:type">

    <style>
        /* =========================================
           1. ROOT + GLOBAL LAYOUT
           ========================================= */
        :root {
            --bg: #fff9ec;
            --bg-soft: #fff4dd;
            --ink: #3b2604;
            --ink-soft: #5a4330;
            --accent: #f4b944;
            --accent-soft: #ffe4a8;
            --accent-strong: #f59e0b;
            --border-soft: rgba(0, 0, 0, 0.06);
            --card-bg: #ffffff;
            --card-radius: 24px;
            --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.16);
            --shadow-subtle: 0 8px 20px rgba(0, 0, 0, 0.08);
            --shadow-tiny: 0 2px 6px rgba(0, 0, 0, 0.08);
            --transition-fast: 0.18s ease-out;
            --transition-med: 0.28s ease;
            --page-max-width: 1120px;
            --page-padding-x: 1.5rem;
            --page-padding-y: 1.5rem;
            --font-body: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            --font-title: "Playfair Display", "Georgia", serif;
            --space-sm: 0.75rem;
            --space-md: 1.25rem;
            --touch-min: 44px;
            --touch-padding: 0.75rem;
        }

        *,
        *::before,
        *::after {
            box-sizing: border-box;
        }

        html,
        body {
            margin: 0;
            padding: 0;
        }

        body {
            min-height: 100vh;
            font-family: var(--font-body);
            color: var(--ink);
            background: radial-gradient(circle at top, #fff4d4 0, #ffe5b0 28%, #ffe7c4 48%, #fff9ec 100%);
            -webkit-font-smoothing: antialiased;
            padding-left: env(safe-area-inset-left, 1rem);
            padding-right: env(safe-area-inset-right, 1rem);
            padding-top: env(safe-area-inset-top, 0);
            padding-bottom: env(safe-area-inset-bottom, 0);
        }

        /* Global touch targets */
        .hero-action-btn,
        .chapter-nav-btn,
        .footer-link,
        .submit-btn,
        .chapter-pill,
        .registry-card,
        .clickable-character,
        .btn {
            position: relative;
            min-height: var(--touch-min);
            min-width: var(--touch-min);
        }

        .footer-link,
        .chapter-nav-btn {
            padding: var(--touch-padding) calc(var(--touch-padding) * 1.5);
        }

        .hero-action-btn,
        .submit-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
        }

        .btn-icon,
        .pill-icon {
            padding: 0.25rem;
        }

        /* A11y helper */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            border: 0;
        }

        /* Simple text utilities */
        .divider {
            text-align: center;
            margin: 2rem 0;
            font-size: 0.95rem;
            opacity: 0.8;
        }

        /* =========================================
           2. DECORATIVE SCENE + CLOUDS
           ========================================= */
        .enhanced-scene {
            position: fixed;
            inset: 0;
            pointer-events: none;
            background:
                radial-gradient(circle at top left, rgba(255, 255, 255, 0.8), transparent 55%),
                radial-gradient(circle at top right, rgba(255, 243, 205, 0.8), transparent 50%),
                radial-gradient(circle at bottom, rgba(255, 220, 185, 0.9), transparent 60%);
            opacity: 0.6;
            z-index: -2;
        }

        .cloud-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            pointer-events: none;
            display: flex;
            justify-content: space-around;
            padding-top: 0.5rem;
            font-size: 1.8rem;
            opacity: 0.45;
            z-index: -1;
        }

        .cloud {
            animation: floatClouds 24s linear infinite;
        }

        .cloud:nth-child(2) {
            animation-delay: -8s;
        }

        .cloud:nth-child(3) {
            animation-delay: -16s;
        }

        @keyframes floatClouds {
            0% {
                transform: translate3d(-10px, 0, 0);
            }
            50% {
                transform: translate3d(10px, 4px, 0);
            }
            100% {
                transform: translate3d(-10px, 0, 0);
            }
        }

        /* =========================================
           3. HERO / MASTHEAD
           ========================================= */
        .masthead-hero {
            position: relative;
            padding-bottom: 2rem;
            color: var(--ink);
        }

        .hero-banner {
            position: relative;
            isolation: isolate;
            max-width: 1200px;
            margin: 0 auto 1.5rem;
            border-radius: 32px;
            overflow: hidden;
            box-shadow: var(--shadow-soft);
            background: linear-gradient(135deg, #ffe5b0, #ffd1a3);
            padding-top: env(safe-area-inset-top, 0);
        }

        .hero-image-container {
            position: relative;
            width: 100%;
            height: min(60vh, 520px);
            overflow: hidden;
        }

        .hero-banner__img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            filter: saturate(1.05) contrast(1.03);
            transform: scale(1.02);
            transform-origin: center;
        }

        /* Corner emojis */
        .hero-corner-decoration {
            position: absolute;
            font-size: 1.8rem;
            filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.16));
        }

        .hero-corner-decoration.top-left {
            top: 10px;
            left: 14px;
        }

        .hero-corner-decoration.top-right {
            top: 10px;
            right: 14px;
        }

        .hero-corner-decoration.bottom-left {
            bottom: 10px;
            left: 14px;
        }

        .hero-corner-decoration.bottom-right {
            bottom: 10px;
            right: 14px;
        }

        /* Title overlay */
        .hero-title-container {
            position: absolute;
            inset: auto 0 0;
            display: flex;
            justify-content: center;
            padding: 1.25rem 1.5rem 1.6rem;
            pointer-events: none;
        }

        .title-background {
            pointer-events: auto;
            max-width: 720px;
            width: 100%;
            padding: 1.25rem 1.5rem 1.5rem;
            border-radius: 24px 24px 0 0;
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.99),
                rgba(255, 248, 225, 0.9)
            );
            box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.18);
            border: 1px solid rgba(255, 255, 255, 0.9);
            border-bottom: none;
        }

        .masthead-title {
            margin: 0 0 0.5rem;
            font-family: var(--font-title);
            letter-spacing: 0.04em;
            text-align: center;
        }

        .title-line {
            display: block;
        }

        .title-line--primary {
            font-size: clamp(1.3rem, 2vw + 1rem, 1.6rem);
            text-transform: uppercase;
            letter-spacing: 0.25em;
            opacity: 0.9;
        }

        .title-line--secondary {
            font-size: clamp(1.9rem, 3vw + 1.2rem, 2.4rem);
            font-weight: 700;
        }

        .title-underline {
            display: flex;
            justify-content: center;
            gap: 0.25rem;
            margin-bottom: 0.35rem;
        }

        .underline-dot {
            font-size: 0.95rem;
            color: var(--accent-strong);
        }

        .hero-subtitle {
            margin: 0;
            text-align: center;
            font-size: 0.95rem;
            color: var(--ink-soft);
        }

        /* Sparkles / bunting / sheen */
        .hero-sparkles {
            position: absolute;
            inset: 0;
            pointer-events: none;
            background:
                radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.7), transparent 60%),
                radial-gradient(circle at 90% 30%, rgba(255, 225, 173, 0.7), transparent 55%);
            mix-blend-mode: screen;
            opacity: 0.6;
            z-index: -1;
        }

        .hero-bunting {
            max-width: 1200px;
            margin: 0.25rem auto 0;
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            font-size: 1.4rem;
        }

        .hero-sheen {
            position: absolute;
            inset: 0;
            pointer-events: none;
            background: linear-gradient(
                135deg,
                rgba(255, 255, 255, 0.16),
                transparent 60%
            );
            mix-blend-mode: screen;
            opacity: 0.8;
        }

        /* Hero inner panel */
        .masthead-hero-inner {
            max-width: var(--page-max-width);
            margin: 0.5rem auto 0;
            padding: 0 1.25rem;
            padding-left: max(var(--page-padding-x), env(safe-area-inset-left, 1rem));
            padding-right: max(var(--page-padding-x), env(safe-area-inset-right, 1rem));
        }

        .hero-panel {
            margin-top: 1.5rem;
            padding: 1.75rem 1.5rem;
            border-radius: var(--card-radius);
            background: rgba(255, 255, 255, 0.96);
            box-shadow: var(--shadow-subtle);
            border: 1px solid rgba(255, 255, 255, 0.8);
        }

        /* =========================================
           4. HERO BADGE + DETAIL GRID + CTA
           ========================================= */
        .hero-badge {
            display: grid;
            grid-template-columns: auto minmax(0, 1.5fr);
            gap: 1rem;
            padding: 1rem 1.25rem;
            border-radius: 999px;
            background: linear-gradient(135deg, #fffaf0, #ffe8bb);
            align-items: center;
            border: 1px solid rgba(244, 185, 68, 0.3);
            margin-bottom: 1.5rem;
        }

        .badge-icon {
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .badge-icon-inner {
            width: 48px;
            height: 48px;
            border-radius: 999px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: radial-gradient(circle at 30% 20%, #fff9e8, #f4b944);
            box-shadow: var(--shadow-tiny);
            font-size: 1.6rem;
        }

        .badge-copy {
            min-width: 0;
        }

        .badge-eyebrow {
            margin: 0;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            font-size: 0.7rem;
            opacity: 0.7;
        }

        .badge-label {
            margin: 0.15rem 0 0;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .badge-title {
            margin: 0.15rem 0 0;
            font-size: 1rem;
            font-weight: 700;
        }

        .badge-meta {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            justify-content: flex-end;
            align-items: center;
            font-size: 0.8rem;
        }

        .badge-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            border-radius: 999px;
            padding: 0.3rem 0.7rem;
            background: rgba(255, 255, 255, 0.92);
            border: 1px solid rgba(255, 255, 255, 0.9);
            box-shadow: 0 2px 6px rgba(244, 185, 68, 0.25);
        }

        .pill-icon {
            font-size: 1rem;
        }

        .pill-text {
            white-space: nowrap;
        }

        /* Detail grid */
        .hero-details-grid {
            display: grid;
            grid-template-columns: repeat(3, minmax(0, 1fr));
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .hero-detail {
            display: flex;
            gap: 0.75rem;
            padding: 0.85rem 1rem;
            border-radius: 16px;
            background: #fffdfa;
            box-shadow: 0 4px 12px rgba(244, 185, 68, 0.12);
        }

        .detail-icon {
            font-size: 1.5rem;
        }

        .detail-title {
            margin: 0;
            font-size: 0.95rem;
            font-weight: 600;
        }

        .detail-text {
            margin: 0.15rem 0 0;
            font-size: 0.85rem;
            color: var(--ink-soft);
        }

        /* Hero CTAs */
        .hero-actions {
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            margin-bottom: 1rem;
        }

        .hero-action-btn {
            border-radius: 999px;
            border: none;
            padding: 0.6rem 1.1rem;
            font-size: 0.9rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            cursor: pointer;
            transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
        }

        .hero-action-btn .btn-icon {
            font-size: 1.1rem;
        }

        .hero-action-btn.primary {
            background: linear-gradient(135deg, #f4b944, #f59e0b);
            color: #3b2604;
            box-shadow: 0 8px 18px rgba(244, 185, 68, 0.6);
        }

        .hero-action-btn.secondary {
            background: #ffffff;
            color: var(--ink);
            box-shadow: var(--shadow-tiny);
            border: 1px solid rgba(0, 0, 0, 0.06);
        }

        .hero-action-btn.ghost {
            background: transparent;
            color: var(--ink-soft);
            border: 1px dashed rgba(0, 0, 0, 0.16);
        }

        .hero-action-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 22px rgba(0, 0, 0, 0.14);
        }

        /* Orientation hint */
        .orientation-hint {
            display: flex;
            align-items: center;
            gap: 0.6rem;
            padding-top: 0.5rem;
            border-top: 1px dashed rgba(0, 0, 0, 0.08);
            margin-top: 0.5rem;
            font-size: 0.83rem;
            color: var(--ink-soft);
        }

        .hint-icon {
            font-size: 1.4rem;
        }

        /* =========================================
           5. CHAPTER TRACKER
           ========================================= */
        .chapter-tracker {
            margin: 1rem 0 0.75rem;
        }

        .tracker-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
        }

        .tracker-label {
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.16em;
            opacity: 0.7;
            white-space: nowrap;
        }

        /* Progress bar */
        .book-progress {
            position: relative;
            flex: 1;
            height: 0.4rem;
            border-radius: 999px;
            background: rgba(0, 0, 0, 0.06);
            overflow: hidden;
        }

        .book-progress .progress-fill {
            width: 0%;
            height: 100%;
            border-radius: inherit;
            background: linear-gradient(90deg, #f4b944, #f97316);
            transition: width 0.25s ease-out;
        }

        .chapter-pill-row {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-top: 0.25rem;
        }

        .chapter-pill {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.4rem 0.9rem;
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.08);
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            cursor: pointer;
            font-size: 0.85rem;
        }

        .chapter-pill .pill-number {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 1.7rem;
            height: 1.7rem;
            border-radius: 999px;
            background: #fff7dd;
            font-weight: 700;
            font-size: 0.85rem;
        }

        .chapter-pill .pill-text {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
        }

        .chapter-pill .pill-title {
            font-weight: 600;
            font-size: 0.85rem;
        }

        .chapter-pill .pill-detail {
            font-size: 0.75rem;
            opacity: 0.76;
        }

        .chapter-pill.active {
            border-color: #f4b944;
            background: linear-gradient(135deg, #fff8dd, #ffe4af);
        }

        /* Sparkle accent */
        .sparkle {
            position: relative;
        }

        .sparkle::after {
            content: "";
            position: absolute;
            inset: -2px;
            border-radius: inherit;
            border: 1px solid rgba(255, 255, 255, 0.7);
            opacity: 0;
            pointer-events: none;
            animation: sparklePulse 2.8s ease-in-out infinite;
        }

        .chapter-pill.active.sparkle::after {
            opacity: 1;
        }

        @keyframes sparklePulse {
            0%,
            100% {
                transform: scale(1);
                opacity: 0.4;
            }
            50% {
                transform: scale(1.03);
                opacity: 1;
            }
        }

        /* =========================================
           6. BOOK LAYOUT + PAGES
           ========================================= */
        .book-container {
            max-width: var(--page-max-width);
            margin: 1.25rem auto 3rem;
            padding: 0 var(--page-padding-x);
            padding-left: max(var(--page-padding-x), env(safe-area-inset-left, 1rem));
            padding-right: max(var(--page-padding-x), env(safe-area-inset-right, 1rem));
        }

        .book {
            margin-top: 1rem;
            border-radius: var(--card-radius);
            background: #fffdf8;
            box-shadow: var(--shadow-soft);
            border: 1px solid rgba(255, 255, 255, 0.9);
            overflow: hidden;
        }

        .pages-wrapper {
            position: relative;
            padding: var(--page-padding-y) var(--page-padding-x);
        }

        /* Page cards */
        .page {
            display: none;
            opacity: 0;
            transform: translateY(4px);
            transition: opacity var(--transition-med), transform var(--transition-med);
        }

        .page.active {
            display: block;
            opacity: 1;
            transform: translateY(0);
        }

        .chapter-header {
            text-align: center;
            margin-bottom: 1.5rem;
            position: relative;
        }

        .chapter-number {
            margin: 0;
            font-size: 0.85rem;
            text-transform: uppercase;
            letter-spacing: 0.22em;
            opacity: 0.7;
        }

        .chapter-title {
            margin: 0.4rem 0 0.25rem;
            font-family: var(--font-title);
            font-size: 1.6rem;
        }

        .chapter-subtitle {
            margin: 0;
            font-size: 0.95rem;
            color: var(--ink-soft);
        }

        .honey-drip {
            position: absolute;
            bottom: -0.4rem;
            left: 50%;
            transform: translateX(-50%);
            width: 110px;
            height: 12px;
            border-radius: 999px;
            background: linear-gradient(90deg, #fbbf24, #f97316);
            opacity: 0.5;
        }

        /* Page body */
        .page-content {
            margin-top: 1.75rem;
        }

        .story-text {
            margin: 0 0 1rem;
            line-height: 1.7;
            font-size: 0.98rem;
        }

        /* =========================================
           7. FIGURES / CHARACTER CARDS
           ========================================= */
        .chapter-illustrations {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 1.25rem 0 1.5rem;
        }

        .storybook-figure {
            flex: 1 1 180px;
            min-width: 0;
            padding: 0.75rem 0.85rem;
            border-radius: 18px;
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .storybook-figure img {
            border-radius: 16px;
            background: #fff6dc;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.16);
            max-width: 96px;
            max-height: 96px;
        }

        .figure-copy {
            min-width: 0;
        }

        .figure-name {
            font-weight: 600;
            font-size: 0.9rem;
        }

        .figure-note {
            margin: 0.15rem 0 0;
            font-size: 0.8rem;
            color: var(--ink-soft);
        }

        /* Theme tints */
        .figure-theme-honey {
            background: linear-gradient(135deg, #fff7dd, #ffe7b8);
        }

        .figure-theme-forest {
            background: linear-gradient(135deg, #e5f4dd, #f3ffe3);
        }

        .figure-theme-sky {
            background: linear-gradient(135deg, #e5f4ff, #f3f9ff);
        }

        /* Clickable characters */
        .clickable-character {
            cursor: pointer;
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
        }

        .clickable-character:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 22px rgba(0, 0, 0, 0.18);
        }

        /* Character message bubble */
        .character-message {
            margin-top: 0.5rem;
            font-size: 0.8rem;
            color: var(--ink);
        }

        /* Dialogue bubbles in narrative */
        .dialogue-bubble {
            position: relative;
            margin: 1rem 0 1.25rem;
            padding: 0.7rem 0.9rem;
            border-radius: 16px;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        .dialogue-piglet {
            background: #fff0f5;
        }

        .dialogue-pooh {
            background: #fff5dd;
        }

        .dialogue-bubble .speaker {
            display: block;
            margin-top: 0.3rem;
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .bubble-arrow {
            position: absolute;
            left: 18px;
            bottom: 100%;
            width: 12px;
            height: 12px;
            background: inherit;
            transform: translateY(1px) rotate(45deg);
        }

        /* =========================================
           8. GAME EMBED + HONEY GAME
           ========================================= */
        .game-embed {
            margin: 1.5rem auto;
            max-width: 960px;
            width: 100%;
            border-radius: 24px;
            overflow: hidden;
            background: #000;
            box-shadow: var(--shadow-soft);
            border: 2px solid rgba(0, 0, 0, 0.08);
            position: relative;
            min-height: 320px;
        }

        .game-embed::before {
            content: 'Loading game…';
            position: absolute;
            inset: 0;
            background: linear-gradient(135deg, #ffe5b0, #ffd1a3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: var(--ink);
            z-index: 1;
            opacity: 1;
            transition: opacity 0.3s ease;
        }

        .game-embed.loaded::before {
            opacity: 0;
            pointer-events: none;
        }

        .honey-game {
            position: relative;
            display: flex;
            flex-direction: column;
            height: 100%;
            min-height: 320px;
            background: radial-gradient(circle at top, #fff8e1 0, #ffe0b2 45%, #f6b26b 100%);
            color: #2c1810;
        }

        .honey-game-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.6rem 0.9rem;
            font-size: 0.85rem;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9), rgba(255, 248, 225, 0.9));
        }

        .honey-game-header .title {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .honey-game-header .title span {
            font-weight: 600;
        }

        .hud-row {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .hud-item {
            padding: 0.2rem 0.6rem;
            border-radius: 999px;
            background: rgba(255, 255, 255, 0.8);
            box-shadow: var(--shadow-tiny);
        }

        .hud-label {
            font-size: 0.75rem;
            opacity: 0.7;
            margin-right: 0.2rem;
        }

        .honey-game-main {
            position: relative;
            flex: 1;
            display: flex;
            align-items: stretch;
            justify-content: center;
            padding: 0.6rem 0.6rem 0.4rem;
        }

        #gameCanvas {
            border-radius: 18px;
            background: linear-gradient(to top, #f4a261 0%, #f4e1a1 40%, #87ceeb 100%);
            box-shadow: 0 10px 24px rgba(0, 0, 0, 0.3);
            max-width: 100%;
            max-height: 100%;
        }

        .honey-game-controls {
            padding: 0.4rem 0.6rem 0.7rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            justify-content: center;
            background: linear-gradient(180deg, rgba(255, 255, 255, 0.9), rgba(255, 248, 225, 0.9));
        }

        .control-btn {
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.14);
            padding: 0.4rem 0.9rem;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            min-width: 80px;
        }

        .control-btn.primary {
            border-color: transparent;
            background: linear-gradient(135deg, #f4b944, #f59e0b);
            color: #3b2604;
            box-shadow: 0 6px 16px rgba(244, 185, 68, 0.6);
        }

        .control-btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.18);
        }

        .control-btn-icon {
            margin-right: 0.3rem;
        }

        /* Game description */
        .game-description {
            margin-top: 1.5rem;
        }

        .game-description h3 {
            margin: 0 0 0.5rem;
        }

        .game-tips {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 0.9rem;
            margin-top: 0.75rem;
        }

        .tip {
            display: flex;
            gap: 0.5rem;
            padding: 0.7rem 0.8rem;
            border-radius: 16px;
            background: #fffdfa;
            box-shadow: var(--shadow-tiny);
            font-size: 0.85rem;
        }

        .tip-icon {
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        /* =========================================
           9. REGISTRY + NURSERY DETAILS + WISHES
           ========================================= */
        .registry-container {
            margin: 2rem 0 1.75rem;
        }

        .registry-section {
            padding: 1.25rem 1.3rem;
            border-radius: 22px;
            background: linear-gradient(135deg, #fffaf3, #ffeede);
            box-shadow: var(--shadow-subtle);
        }

        .registry-header {
            display: flex;
            gap: 0.8rem;
            align-items: center;
            margin-bottom: 1rem;
        }

        .registry-icon {
            font-size: 1.8rem;
        }

        .registry-subtitle {
            margin: 0.2rem 0 0;
            font-size: 0.9rem;
            color: var(--ink-soft);
        }

        .registry-grid {
            display: grid;
            grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.2fr);
            gap: 1rem;
        }

        .registry-card {
            display: flex;
            gap: 0.75rem;
            padding: 0.9rem 1rem;
            border-radius: 18px;
            background: #ffffff;
            text-decoration: none;
            color: inherit;
            box-shadow: var(--shadow-tiny);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
        }

        .registry-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);
        }

        .registry-card .card-icon {
            font-size: 1.5rem;
        }

        .registry-card .card-content h4 {
            margin: 0 0 0.2rem;
            font-size: 0.95rem;
        }

        .registry-card .card-content p {
            margin: 0;
            font-size: 0.85rem;
            color: var(--ink-soft);
        }

        .registry-card .card-link {
            display: inline-block;
            margin-top: 0.3rem;
            font-size: 0.8rem;
            color: #b45309;
        }

        .gift-idea-card {
            flex-direction: column;
        }

        .gift-ideas {
            margin: 0.25rem 0 0;
            padding-left: 1.1rem;
            font-size: 0.85rem;
        }

        /* Nursery details grid */
        .nursery-details {
            margin: 2rem 0 1.75rem;
        }

        .nursery-details h3 {
            display: flex;
            align-items: center;
            gap: 0.4rem;
        }

        .details-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
            gap: 1rem;
            margin-top: 0.9rem;
        }

        .detail-card {
            padding: 0.85rem 1rem;
            border-radius: 18px;
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            display: flex;
            gap: 0.7rem;
        }

        .detail-card .detail-icon {
            font-size: 1.4rem;
        }

        /* Wishes section */
        .wishes-section {
            margin: 1.75rem 0 1.5rem;
        }

        .wishes-header h3 {
            margin-bottom: 0.3rem;
        }

        .wishes-header p {
            margin: 0;
            font-size: 0.9rem;
            color: var(--ink-soft);
        }

        .wishes-form-container {
            margin-top: 1rem;
        }

        .enhanced-form {
            padding: 1rem 1rem 1.1rem;
            border-radius: 18px;
            background: #fffdf8;
            box-shadow: var(--shadow-tiny);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(2, minmax(0, 1fr));
            gap: var(--space-md);
            margin-bottom: 0.75rem;
        }

        .form-field label {
            display: block;
            margin-bottom: 0.15rem;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .form-field input,
        .form-field select,
        .form-field textarea {
            width: 100%;
            padding: 0.55rem 0.6rem;
            border-radius: 10px;
            border: 1px solid rgba(0, 0, 0, 0.14);
            font-family: inherit;
            font-size: 0.9rem;
            background: rgba(255, 255, 255, 0.96);
        }

        .form-field textarea {
            resize: vertical;
        }

        .character-count {
            margin-top: 0.25rem;
            font-size: 0.75rem;
            text-align: right;
            color: var(--ink-soft);
        }

        .form-actions {
            margin-top: 0.6rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.75rem;
            align-items: center;
        }

        .submit-btn {
            border-radius: 999px;
            border: none;
            padding: 0.55rem 1.1rem;
            background: linear-gradient(135deg, #f4b944, #f59e0b);
            color: #3b2604;
            font-weight: 600;
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            box-shadow: 0 6px 16px rgba(244, 185, 68, 0.6);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast);
        }

        .submit-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 22px rgba(244, 185, 68, 0.7);
        }

        .form-feedback {
            font-size: 0.8rem;
            color: var(--ink-soft);
        }

        /* Sample wishes */
        .sample-wishes {
            margin-top: 1rem;
        }

        .wish-examples {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
            gap: 0.8rem;
        }

        .wish-example {
            margin: 0;
            padding: 0.7rem 0.9rem;
            border-radius: 14px;
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            font-size: 0.85rem;
        }

        .wish-example cite {
            display: block;
            margin-top: 0.3rem;
            font-size: 0.8rem;
            opacity: 0.8;
        }

        /* Dynamic wishes display */
        .wishes-display {
            margin-top: 1.25rem;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
            gap: 0.9rem;
        }

        .wishes-display .wish-card {
            padding: 0.8rem 0.9rem;
            border-radius: 16px;
            background: #fffdfa;
            box-shadow: var(--shadow-tiny);
            font-size: 0.9rem;
        }

        .wish-card .wish-meta {
            font-size: 0.8rem;
            opacity: 0.7;
            margin-bottom: 0.25rem;
        }

        /* =========================================
           10. CHAPTER 4 CELEBRATION / COUNTDOWN
           ========================================= */
        .welcome-panel {
            margin: 1.75rem 0 1.5rem;
            padding: 1rem 1.1rem;
            border-radius: 20px;
            background: linear-gradient(135deg, #fff6dd, #ffe4b2);
            display: flex;
            align-items: center;
            gap: 0.8rem;
        }

        .welcome-icon {
            font-size: 1.7rem;
        }

        .welcome-heading {
            margin: 0;
        }

        .welcome-subtitle {
            margin: 0.2rem 0 0;
            font-size: 0.9rem;
            color: var(--ink-soft);
        }

        /* Countdown */
        .countdown-section {
            margin: 1.5rem 0 1.75rem;
        }

        .countdown-display {
            display: flex;
            gap: 1rem;
            margin: 0.7rem 0;
        }

        .countdown-item {
            flex: 0 0 90px;
            padding: 0.7rem 0.8rem;
            border-radius: 16px;
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            text-align: center;
        }

        .countdown-number {
            display: block;
            font-size: 1.35rem;
            font-weight: 700;
        }

        .countdown-label {
            font-size: 0.8rem;
            opacity: 0.8;
        }

        .countdown-note {
            margin: 0;
            font-size: 0.9rem;
            color: var(--ink-soft);
        }

        /* Honey jar hopes */
        .honey-jar-interactive {
            margin: 1.75rem 0 1.5rem;
            padding: 1rem 1.1rem;
            border-radius: 20px;
            background: #fffdf5;
            box-shadow: var(--shadow-tiny);
        }

        .honey-jar-interactive h3 {
            margin: 0.3rem 0 0.3rem;
        }

        .honey-jar-interactive p {
            margin: 0 0 0.6rem;
        }

        .hopes-list {
            margin: 0.5rem 0 0;
            padding-left: 1.1rem;
            font-size: 0.9rem;
        }

        /* Generic button used here */
        .btn {
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.14);
            padding: 0.5rem 1.1rem;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
        }

        .btn.primary {
            border-color: transparent;
            background: linear-gradient(135deg, #f4b944, #f59e0b);
            color: #3b2604;
            box-shadow: 0 6px 16px rgba(244, 185, 68, 0.6);
        }

        .btn.primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 10px 22px rgba(244, 185, 68, 0.7);
        }

        /* Final quote */
        .final-thought {
            margin-top: 1.5rem;
            padding-top: 1rem;
            border-top: 1px dashed rgba(0, 0, 0, 0.12);
        }

        .final-thought blockquote {
            margin: 0;
            font-size: 0.95rem;
            font-style: italic;
        }

        .final-thought cite {
            font-style: normal;
        }

        .final-thought .signature {
            margin-top: 0.6rem;
            font-size: 0.9rem;
        }

        /* =========================================
           11. NAVIGATION BUTTONS (Prev / Next)
           ========================================= */
        .chapter-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 0.75rem;
            padding: 0.85rem 1.25rem 1.1rem;
            border-top: 1px solid rgba(0, 0, 0, 0.06);
            background: rgba(255, 255, 255, 0.96);
        }

        .chapter-nav-btn {
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.18);
            padding: 0.45rem 0.9rem;
            font-size: 0.9rem;
            cursor: pointer;
            background: #ffffff;
            box-shadow: var(--shadow-tiny);
            transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
        }

        .chapter-nav-btn.next {
            border-color: transparent;
            background: linear-gradient(135deg, #f4b944, #f59e0b);
            color: #3b2604;
        }

        .chapter-nav-btn:hover {
            transform: translateY(-1px);
            box-shadow: 0 8px 18px rgba(0, 0, 0, 0.16);
        }

        .chapter-indicator {
            font-size: 0.9rem;
            color: var(--ink-soft);
        }

        /* =========================================
           12. FOOTER
           ========================================= */
        .site-footer {
            max-width: var(--page-max-width);
            margin: 0 auto 2rem;
            padding: 1.25rem var(--page-padding-x) 0;
            text-align: center;
            font-size: 0.85rem;
            color: var(--ink-soft);
        }

        .footer-links {
            margin-top: 0.5rem;
            display: flex;
            justify-content: center;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .footer-link {
            border-radius: 999px;
            border: 1px solid rgba(0, 0, 0, 0.16);
            padding: 0.35rem 0.8rem;
            font-size: 0.8rem;
            background: #ffffff;
            cursor: pointer;
            box-shadow: var(--shadow-tiny);
        }

        /* =========================================
           13. ANIMATIONS TOGGLE
           ========================================= */
        body.animations-off .cloud {
            animation: none !important;
        }

        body.animations-off .chapter-pill.sparkle::after {
            display: none;
        }

        /* =========================================
           14. GAME SPECIFIC STYLES (QUICK WINS)
           ========================================= */
        .game-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 100;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
        }

        .overlay.visible {
            opacity: 1;
            visibility: visible;
        }

        .overlay-content {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            padding: 2rem;
            border-radius: 20px;
            text-align: center;
            max-width: 400px;
            width: 90%;
            border: 3px solid #fbbf24;
            color: white;
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }

        .modal.visible {
            display: flex;
        }

        .modal-content {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            border: 3px solid #fbbf24;
            color: white;
        }

        .game-top-controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 10px;
            z-index: 50;
        }

        .btn-icon {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #fbbf24;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fbbf24;
            cursor: pointer;
            font-size: 18px;
            backdrop-filter: blur(10px);
        }

        .floating-score {
            position: absolute;
            font-weight: bold;
            font-size: 24px;
            pointer-events: none;
            z-index: 100;
            animation: floatUp 1s ease-out forwards;
        }

        @keyframes floatUp {
            0% {
                transform: translateY(0);
                opacity: 1;
            }
            100% {
                transform: translateY(-50px);
                opacity: 0;
            }
        }

        .floating-score.normal { color: #84cc16; }
        .floating-score.gold { color: #fbbf24; }
        .floating-score.shield { color: #60a5fa; }
        .floating-score.powerup { color: #22c55e; }
        .floating-score.combo { color: #f97316; }

        /* Game status meters */
        .game-status-panel {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 12px;
            margin: 10px 0 6px;
        }

        .meter-card {
            background: rgba(0, 0, 0, 0.06);
            border: 1px solid var(--border-soft);
            border-radius: 14px;
            padding: 10px 12px;
            box-shadow: var(--shadow-tiny);
        }

        .meter-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.95rem;
            color: var(--ink-soft);
            margin-bottom: 6px;
        }

        .meter-title {
            font-weight: 700;
            color: var(--ink);
        }

        .meter-subtitle {
            font-size: 0.85rem;
            color: var(--ink-soft);
        }

        .meter-bar {
            width: 100%;
            height: 10px;
            background: rgba(0, 0, 0, 0.06);
            border-radius: 999px;
            overflow: hidden;
        }

        .meter-fill {
            height: 100%;
            width: 100%;
            background: linear-gradient(90deg, #f4b944, #f08a1f);
            border-radius: 999px;
            transition: width var(--transition-fast), background-color var(--transition-fast);
        }

        .meter-fill.low {
            background: linear-gradient(90deg, #ef4444, #dc2626);
        }

        .mood-card {
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .floating-indicator {
            position: absolute;
            top: 14px;
            right: 14px;
            background: rgba(0, 0, 0, 0.75);
            color: #fff;
            padding: 10px 14px;
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.25);
            opacity: 0;
            transform: translateY(-6px);
            transition: opacity var(--transition-med), transform var(--transition-med);
            z-index: 120;
            pointer-events: none;
        }

        .floating-indicator.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .floating-indicator.powerup {
            right: auto;
            left: 14px;
            background: linear-gradient(135deg, #0ea5e9, #0369a1);
        }

        .difficulty-indicator {
            animation: fadeOut 1.5s ease forwards;
        }

        @keyframes fadeOut {
            0% { opacity: 1; }
            70% { opacity: 1; }
            100% { opacity: 0; }
        }

        .share-success {
            animation: pulseSuccess 0.5s ease;
        }

        @keyframes pulseSuccess {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        /* Settings Modal Styles */
        #settingsModal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            align-items: center;
            justify-content: center;
        }
        
        #settingsModal.visible {
            display: flex;
        }
        
        #settingsPanel {
            background: linear-gradient(135deg, #1e293b, #0f172a);
            border-radius: 20px;
            padding: 30px;
            width: 90%;
            max-width: 500px;
            max-height: 80vh;
            overflow-y: auto;
            border: 3px solid #fbbf24;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.5);
        }
        
        .settings-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
        }
        
        .settings-header h2 {
            color: #fbbf24;
            font-size: 28px;
            margin: 0;
        }
        
        .settings-close {
            background: none;
            border: none;
            color: #fbbf24;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
            border-radius: 5px;
        }
        
        .settings-close:hover {
            background-color: rgba(251, 191, 36, 0.1);
        }
        
        .settings-group {
            margin-bottom: 25px;
            background: rgba(255, 255, 255, 0.05);
            padding: 20px;
            border-radius: 15px;
        }
        
        .settings-group h3 {
            color: #fbbf24;
            font-size: 20px;
            margin: 0 0 15px 0;
        }
        
        .settings-row {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 15px;
            padding: 10px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .settings-row:last-child {
            border-bottom: none;
        }
        
        .settings-label {
            color: white;
            font-size: 16px;
            font-weight: bold;
        }
        
        .toggle-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #fbbf24;
            border-radius: 50px;
            width: 60px;
            height: 30px;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .toggle-btn[data-on="true"] {
            background-color: #fbbf24;
        }
        
        .toggle-btn::after {
            content: '';
            position: absolute;
            top: 3px;
            left: 3px;
            width: 22px;
            height: 22px;
            background-color: white;
            border-radius: 50%;
            transition: all 0.3s ease;
        }
        
        .toggle-btn[data-on="true"]::after {
            left: calc(100% - 25px);
        }
        
        .diff-btn {
            background: rgba(255, 255, 255, 0.1);
            border: 2px solid #fbbf24;
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
        }
        
        .diff-btn:hover {
            background: rgba(251, 191, 36, 0.2);
        }
        
        .diff-btn.active {
            background-color: #fbbf24;
            color: #1e293b;
        }
        
        .settings-btn {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
            color: #1e293b;
            border: none;
            padding: 12px 24px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            width: 100%;
            justify-content: center;
            margin-top: 10px;
        }
        
        .settings-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(251, 191, 36, 0.4);
        }
        
        .settings-btn.danger {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            color: white;
        }
        
        .settings-btn.danger:hover {
            box-shadow: 0 5px 15px rgba(239, 68, 68, 0.4);
        }

        /* =========================================
           15. RESPONSIVE TWEAKS
           ========================================= */
        @media (max-width: 900px) {
            .hero-banner {
                border-radius: 0;
                box-shadow: none;
            }

            .hero-image-container {
                height: min(50vh, 420px);
            }

            .hero-title-container {
                padding-inline: 1rem;
            }

            .title-background {
                border-radius: 20px 20px 0 0;
            }

            .hero-panel {
                margin-top: 1rem;
                padding: 1.25rem 1rem 1.4rem;
            }

            .hero-badge {
                grid-template-columns: 1fr;
                border-radius: 20px;
            }

            .hero-details-grid {
                grid-template-columns: minmax(0, 1fr);
            }

            .registry-grid {
                grid-template-columns: minmax(0, 1fr);
            }
        }

        @media (max-width: 768px) {
            .book-container {
                padding-inline: 1rem;
            }

            .pages-wrapper {
                padding-inline: 1rem;
            }

            .form-grid {
                grid-template-columns: 1fr;
                gap: var(--space-sm);
            }

            input[type="text"],
            input[type="email"],
            input[type="tel"],
            textarea,
            select {
                font-size: 16px !important;
            }

            .form-field input,
            .form-field select,
            .form-field textarea {
                padding: 0.75rem 0.85rem;
                min-height: var(--touch-min);
            }

            .chapter-illustrations {
                flex-direction: column;
            }

            .hero-actions {
                flex-direction: column;
                align-items: stretch;
            }

            .hero-action-btn {
                justify-content: center;
            }

            .countdown-display {
                justify-content: center;
            }

            .hud-row {
                flex-wrap: wrap;
            }

            .overlay-content {
                padding: 1.5rem;
                margin: 1rem;
            }
            
            .modal-content {
                padding: 20px;
                margin: 1rem;
            }
        }

        .chapter-subtitle {
    font-family: var(--font-hand, "Patrick Hand", system-ui, sans-serif);
    font-size: 1.1rem;
    font-weight: 400;
    color: var(--ink-soft, #5c4633);
    margin-top: 0.25rem;
    margin-bottom: 1rem;
    letter-spacing: 0.02em;
}
        .honey-drip {
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: -14px;
    width: 120px;
    height: 28px;
    background: radial-gradient(circle at 50% 0,
        rgba(255, 213, 79, 0.95),
        rgba(255, 193, 7, 0.95) 40%,
        rgba(255, 171, 0, 0.9) 100%);
    border-radius: 0 0 999px 999px;
    box-shadow:
        0 6px 12px rgba(0, 0, 0, 0.18),
        0 0 0 1px rgba(255, 193, 7, 0.55);
    pointer-events: none;
}
        .hero-action-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    padding: 0.75rem 1.4rem;
    border-radius: 999px;
    border: none;
    cursor: pointer;
    font-family: var(--font-hand, "Patrick Hand", system-ui, sans-serif);
    font-size: 1rem;
    letter-spacing: 0.03em;
    text-transform: uppercase;
    text-decoration: none;
    transition:
        transform 0.15s ease-out,
        box-shadow 0.15s ease-out,
        background-color 0.15s ease-out,
        color 0.15s ease-out;
    outline: none;
}

.hero-action-btn:focus-visible {
    box-shadow:
        0 0 0 2px #ffffff,
        0 0 0 4px var(--color-forest, #2f5d3a);
    transform: translateY(-1px);
}

/* Primary */
.hero-action-btn.primary {
    background: linear-gradient(
        135deg,
        var(--color-honey, #f4a944) 0%,
        var(--color-honey-dark, #f08a1f) 100%
    );
    color: #3c1f0a;
    box-shadow: 0 8px 20px rgba(244, 169, 68, 0.35);
}

/* Secondary */
.hero-action-btn.secondary {
    background: rgba(255, 255, 255, 0.9);
    color: var(--ink, #2c1810);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.08);
    border: 1px solid rgba(255, 255, 255, 0.7);
}

/* Ghost / subtle */
.hero-action-btn.ghost {
    background: transparent;
    color: var(--ink-soft, #5c4633);
    border: 1px dashed rgba(92, 70, 51, 0.35);
    box-shadow: none;
}

.hero-action-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.16);
}

.hero-action-btn:active {
    transform: translateY(1px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
}
        .hero-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    align-items: center;
    justify-content: center;
    margin-top: 1.25rem;
}
        .orientation-hint {
    display: none; /* JS can toggle to flex when needed */
    position: fixed;
    inset: auto 0 1.25rem 0;
    margin: 0 auto;
    max-width: 420px;
    padding: 0.75rem 1rem;
    border-radius: 999px;
    background: rgba(27, 24, 19, 0.9);
    color: #fdf6e3;
    font-family: var(--font-hand, "Patrick Hand", system-ui, sans-serif);
    font-size: 0.9rem;
    letter-spacing: 0.04em;
    text-align: center;
    z-index: 50;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.35);
    backdrop-filter: blur(12px);
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    pointer-events: none;
}

.hint-icon {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1.6rem;
    height: 1.6rem;
    border-radius: 999px;
    background: radial-gradient(circle at 30% 20%, #ffe082, #ffca28 60%, #f9a825 100%);
    color: #3c1f0a;
    font-size: 0.9rem;
    box-shadow: 0 5px 18px rgba(0, 0, 0, 0.25);
}
        .share-success {
    transform: translateY(-1px) scale(1.03);
    box-shadow: 0 0 0 3px rgba(244, 169, 68, 0.35);
}
    </style>

    </style>
</head>
<body class="loading-view-active">
<div class="page-shell">
    <!-- Simple loading / cover view -->
    <div class="loading-view" id="loadingView" aria-live="polite">
        <div class="book-cover">
            <div class="book-cover-inner">
                <h1 class="cover-title">Baby Gunnar's Hundred Acre Wood Adventure</h1>
                <p class="cover-subtitle">A cozy story, a honey game, and your wishes for the little cub.</p>
                <button class="start-reading-btn hero-action-btn" type="button" id="startExperience">
                    Start the Adventure
                </button>
            </div>
        </div>
    </div>

    <!-- Main content -->
    <main class="main-layout" id="mainLayout">
        <!-- Hero header -->
        <header class="hero-shell">
            <div class="hero-inner">
                <div class="hero-text">
                    <h1 class="hero-title">Welcome to Baby Gunnar’s Hundred Acre Wood</h1>
                    <p class="hero-lead">
                        Wander through the pages, play a round of <strong>Honey Hunt</strong>,
                        and leave a warm wish for Gunnar and his mom &amp; dad.
                    </p>
                    <div class="hero-actions">
                        <button class="hero-action-btn" type="button" id="scrollToGame">
                            Jump to Honey Hunt
                        </button>
                    </div>
                </div>
            </div>
        </header>

        <!-- GAME SECTION -->
        <section id="honeyGameSection" class="chapter-section">
            <header class="chapter-header">
                <div class="chapter-heading">
                    <span class="chapter-kicker">Playtime in the Hundred Acre Wood</span>
                    <h2 class="chapter-title">Honey Hunt — Ultimate Edition</h2>
                    <p class="chapter-subtitle">
                        Help Pooh catch as many jars of honey as you can before time runs out.
                    </p>
                </div>
            </header>

            <div class="chapter-body game-layout">
                <!-- Game container -->
                <div id="gameContainer" class="game-embed">
                    <div class="honey-game-shell">
                        <!-- HUD -->
                        <header class="game-hud" aria-label="Game status">
                            <div class="game-hud-left">
                                <div class="hud-title">
                                    <span class="hud-title-label">Honey Hunt</span>
                                </div>
                                <div class="hud-row">
                                    <div class="hud-item">
                                        <span class="hud-label">Score</span>
                                        <span id="hudScore">0</span>
                                    </div>
                                    <div class="hud-item">
                                        <span class="hud-label">Best</span>
                                        <span id="hudBest">0</span>
                                    </div>
                                </div>
                            </div>
                            <div class="game-hud-right">
                                <div class="hud-row">
                                    <div class="hud-item">
                                        <span class="hud-label">Time</span>
                                        <span id="hudTime">60</span><span class="hud-suffix">s</span>
                                    </div>
                                    <div class="hud-item">
                                        <span class="hud-label">Streak</span>
                                        <span id="hudStreak">0</span>
                                    </div>
                                    <div class="hud-item">
                                        <span class="hud-label">Lives</span>
                                        <span id="hudLives">❤️❤️❤️</span>
                                    </div>
                                </div>
                                <div class="hud-row hud-row-secondary">
                                    <div class="hud-item">
                                        <span class="hud-label">Status</span>
                                        <span id="statusBadge" class="status-badge">Ready</span>
                                    </div>
                                    <div class="hud-item">
                                        <span class="hud-label">Session</span>
                                        <span id="sessionGames">0 games</span>
                                    </div>
                                </div>
                            </div>
                        </header>

                        <div class="game-status-panel" aria-hidden="false">
                            <div class="meter-card">
                                <div class="meter-header">
                                    <span class="meter-title">Time</span>
                                    <span id="timeSubtitle" class="meter-subtitle">60s to shine</span>
                                </div>
                                <div class="meter-bar" role="presentation">
                                    <div id="timeProgress" class="meter-fill" style="width: 100%;"></div>
                                </div>
                            </div>

                            <div class="meter-card">
                                <div class="meter-header">
                                    <span class="meter-title">Streak</span>
                                    <span id="streakSubtitle" class="meter-subtitle">Build your combo</span>
                                </div>
                                <div class="meter-bar" role="presentation">
                                    <div id="streakProgress" class="meter-fill" style="width: 0%;"></div>
                                </div>
                            </div>

                            <div class="meter-card mood-card">
                                <div class="meter-header">
                                    <span class="meter-title">Session Mood</span>
                                    <span id="sessionMood" class="meter-subtitle">Ready to play</span>
                                </div>
                            </div>
                        </div>

                        <!-- Powerup indicators -->
                        <div class="powerup-indicators" id="powerupIndicators" aria-hidden="true">
                            <div class="powerup-indicator" data-type="DOUBLE_POINTS" title="Double Points">
                                ✨
                                <div class="powerup-timer"></div>
                            </div>
                            <div class="powerup-indicator" data-type="SLOW_TIME" title="Slow Time">
                                🐢
                                <div class="powerup-timer"></div>
                            </div>
                            <div class="powerup-indicator" data-type="MAGNET" title="Magnet">
                                🧲
                                <div class="powerup-timer"></div>
                            </div>
                            <div class="powerup-indicator" data-type="BEE_REPELLENT" title="Bee Repellent">
                                🐝🚫
                                <div class="powerup-timer"></div>
                            </div>
                        </div>

                        <!-- Daily challenge -->
                        <div id="dailyChallengePanel" class="daily-challenge-panel" aria-live="polite" hidden>
                            <div class="daily-challenge-title">Daily Challenge</div>
                            <div id="dailyChallengeText" class="daily-challenge-text">
                                Catch honey, avoid bees, have fun!
                            </div>
                            <div class="daily-challenge-progress">
                                <div id="dailyChallengeProgress" class="daily-challenge-progress-fill" style="width: 0%;"></div>
                            </div>
                            <div id="dailyChallengeReward" class="daily-challenge-reward">
                                🎁 Reward waiting…
                            </div>
                        </div>

                        <!-- Evolution display -->
                        <div id="evolutionDisplay" class="evolution-display" aria-live="polite" hidden>
                            <span class="evolution-level" id="evolutionLevel">Cub</span>
                            <span class="evolution-name" id="evolutionName">Just getting started</span>
                        </div>

                        <!-- Game canvas + overlays -->
                        <div class="honey-game-main">
                            <canvas
                                id="gameCanvas"
                                width="640"
                                height="360"
                                aria-label="Pooh catching honey pots"
                                role="img">
                            </canvas>

                            <div id="comboIndicator" class="floating-indicator" aria-live="polite"></div>
                            <div id="powerupIndicator" class="floating-indicator powerup" aria-live="polite"></div>

                            <!-- Start overlay -->
                            <div id="startOverlay" class="overlay visible" aria-hidden="false">
                                <div class="overlay-content">
                                    <h2>Honey Hunt</h2>
                                    <p>Catch honey, dodge bees, chain combos, and unlock power-ups.</p>
                                    <div class="overlay-meta">
                                        <span id="sessionDifficulty">Chill woods</span> ·
                                        <span id="overlayGames">0 games played</span>
                                    </div>
                                    <button id="startButton" class="btn primary">
                                        Start Game
                                    </button>
                                    <button id="helpToggleSecondary" class="btn ghost">
                                        How to Play
                                    </button>
                                </div>
                            </div>

                            <!-- Pause overlay -->
                            <div id="pauseOverlay" class="overlay" aria-hidden="true">
                                <div class="overlay-content">
                                    <h2>Paused</h2>
                                    <p>Take a breath, then dive back into the honey storm.</p>
                                    <button id="resumeButton" class="btn primary">
                                        Resume
                                    </button>
                                </div>
                            </div>

                            <!-- Game over overlay -->
                            <div id="gameOverOverlay" class="overlay" aria-hidden="true">
                                <div class="overlay-content">
                                    <h2>Game Over</h2>
                                    <p>Your final score:</p>
                                    <div class="overlay-score">
                                        <span id="finalScore">0</span>
                                    </div>
                                    <p class="overlay-sub">
                                        Best so far: <span id="finalBest">0</span>
                                    </p>
                                    <p class="overlay-sub">
                                        Lifetime best: <span id="overlayBest">0</span> ·
                                        Games played: <span id="overlayGamesSummary">0</span>
                                    </p>
                                    <div class="overlay-actions">
                                        <button id="restartButton2" class="btn primary">
                                            Play Again
                                        </button>
                                        <button id="shareScoreButton" class="btn ghost">
                                            Share Score
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Tutorial overlay -->
                            <div id="tutorialOverlay" class="overlay" aria-hidden="true">
                                <div class="tutorial-content">
                                    <div class="tutorial-step active" data-step="1">
                                        <h3>Welcome to Honey Hunt!</h3>
                                        <p>Use the arrow keys or on-screen buttons to move Pooh under the falling jars.</p>
                                    </div>
                                    <div class="tutorial-step" data-step="2">
                                        <h3>Combos &amp; Streaks</h3>
                                        <p>Catch jars without missing to build your combo and unlock special bonuses.</p>
                                    </div>
                                    <div class="tutorial-step" data-step="3">
                                        <h3>Power-Ups</h3>
                                        <p>Special jars slow time, double points, pull honey toward you, or keep bees away.</p>
                                    </div>

                                    <div class="tutorial-dots">
                                        <span class="tutorial-dot active"></span>
                                        <span class="tutorial-dot"></span>
                                        <span class="tutorial-dot"></span>
                                    </div>

                                    <div class="tutorial-actions">
                                        <button id="skipTutorial" class="btn ghost">Skip</button>
                                        <button id="nextTutorial" class="btn primary">Next</button>
                                        <button id="startTutorial" class="btn primary" style="display:none;">Let’s Play</button>
                                    </div>
                                </div>
                            </div>

                            <!-- Touch controls -->
                            <div class="touch-controls" aria-hidden="true">
                                <button id="btnLeft" class="touch-btn" type="button" aria-label="Move left">←</button>
                                <button id="btnRight" class="touch-btn" type="button" aria-label="Move right">→</button>
                            </div>
                        </div>

                        <!-- Bottom controls bar -->
                        <footer class="game-controls" aria-label="Game controls">
                            <div class="game-controls-left">
                                <button id="btnStart" class="btn" type="button">
                                    ▶️ Start
                                </button>
                                <button id="btnPause" class="btn" type="button">
                                    ⏸ Pause
                                </button>
                            </div>
                            <div class="game-controls-right">
                                <button id="helpToggle" class="btn ghost" type="button">
                                    ❓ Help
                                </button>
                                <button id="settingsToggle" class="btn ghost" type="button">
                                    ⚙️ Settings
                                </button>
                                <button id="themeToggle" class="btn ghost" type="button">
                                    🌗 Theme
                                </button>
                                <button id="fullscreenToggle" class="btn ghost" type="button">
                                    ⛶ Fullscreen
                                </button>
                            </div>
                        </footer>
                    </div>

                    <!-- Live region for announcements -->
                    <div id="liveRegion" class="sr-only" aria-live="polite"></div>
                </div>

                <!-- Game description panel -->
                <aside class="game-description">
                    <h3>How to Play</h3>
                    <p>
                        Pooh has wandered into a perfect honey storm. Jars are tumbling from the sky, bees are buzzing,
                        and your job is to guide him safely through it all.
                    </p>

                    <div class="game-tips">
                        <div class="tip">
                            <span class="tip-icon">🎯</span>
                            <p><strong>Move</strong> with the arrow keys or on-screen buttons to catch honey jars.</p>
                        </div>
                        <div class="tip">
                            <span class="tip-icon">🔥</span>
                            <p><strong>Stack streaks</strong> by catching jars without missing to earn big combo bonuses.</p>
                        </div>
                        <div class="tip">
                            <span class="tip-icon">🐝</span>
                            <p><strong>Avoid bees</strong> or you’ll lose a life. Some power-ups keep them away.</p>
                        </div>
                        <div class="tip">
                            <span class="tip-icon">✨</span>
                            <p><strong>Watch for special jars</strong> that slow time, double points, or magnetize honey.</p>
                        </div>
                    </div>
                </aside>
            </div>
        </section>

        <!-- Simple wishes section placeholder (safe even if unused by JS) -->
        <section class="chapter-section">
            <header class="chapter-header">
                <div class="chapter-heading">
                    <span class="chapter-kicker">Leave a little love</span>
                    <h2 class="chapter-title">A Wish for Baby Gunnar</h2>
                </div>
            </header>
            <div class="chapter-body">
                <p>
                    Take a moment to think of a small wish, a big hope, or a quiet promise for Gunnar as he grows.
                    (You can always write it in the real guest book at the shower!)
                </p>
            </div>
        </section>
    </main>

    <!-- Settings modal -->
    <div id="settingsModal" class="modal" aria-hidden="true">
        <div id="settingsPanel" class="modal-content" role="dialog" aria-modal="true" aria-labelledby="settingsTitle">
            <button id="settingsClose" class="modal-close" type="button" aria-label="Close settings">×</button>
            <h2 id="settingsTitle">Honey Hunt Settings</h2>

            <div class="settings-group">
                <h3>Sound</h3>
                <div class="settings-row">
                    <span>Music</span>
                    <button id="musicToggle" class="toggle-btn" type="button" data-state="on">On</button>
                </div>
                <div class="settings-row">
                    <span>Sound Effects</span>
                    <button id="sfxToggle" class="toggle-btn" type="button" data-state="on">On</button>
                </div>
            </div>

            <div class="settings-group">
                <h3>Difficulty</h3>
                <div class="difficulty-row">
                    <button class="diff-btn" type="button" data-level="chill">Chill</button>
                    <button class="diff-btn" type="button" data-level="classic">Classic</button>
                    <button class="diff-btn" type="button" data-level="chaos">Chaos</button>
                </div>
                <p class="settings-note">
                    Difficulty adjusts how fast jars fall, how often bees appear, and how generous power-ups are.
                </p>
            </div>

            <div class="settings-group">
                <h3>Progress</h3>
                <div class="settings-row">
                    <span>Best Score</span>
                    <span id="settingsBest">0</span>
                </div>
                <button id="resetProgress" class="btn ghost" type="button">
                    <span>🔄</span> Reset Progress
                </button>
            </div>
        </div>
    </div>

    <!-- Help panel -->
    <div id="helpPanel" class="modal" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="helpTitle">
            <button id="helpClose" class="modal-close" type="button" aria-label="Close help">×</button>
            <h2 id="helpTitle">How to Play Honey Hunt</h2>
            <ul>
                <li>Move left and right to catch falling honey jars.</li>
                <li>Keep your streak alive to earn combo bonuses.</li>
                <li>Watch for power-ups that slow time, double points, or repel bees.</li>
                <li>Avoid the buzzing bees—losing all lives ends the round.</li>
            </ul>
            <p class="meter-subtitle">Tip: tap or click anywhere to enable sound effects.</p>
            <div class="tutorial-actions">
                <button id="helpPanelPrimary" class="btn primary" type="button">Start Playing</button>
            </div>
        </div>
    </div>
</div>
<!-- script tag comes after this block -->
</audio>

<script>
document.addEventListener("DOMContentLoaded", () => {
    const pages = Array.from(document.querySelectorAll(".page"));
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    const indicator = document.getElementById("pageIndicator");
    const progress = document.getElementById("progressFill");
    const chapterPills = Array.from(document.querySelectorAll("[data-chapter-target]"));
    const total = pages.length;
    let current = 0;

    const pageSound = document.getElementById("pageSound");

    function updateUI(scroll = true) {
        pages.forEach((page, i) => page.classList.toggle("active", i === current));
        indicator.textContent = `Chapter ${current + 1} of ${total}`;
        if (progress) progress.style.width = `${((current + 1) / total) * 100}%`;

        chapterPills.forEach(btn => {
            const isActive = parseInt(btn.dataset.chapterTarget, 10) === current + 1;
            btn.classList.toggle("active", isActive);
            if (isActive) btn.setAttribute("aria-current", "page");
            else btn.removeAttribute("aria-current");
        });

        if (pageSound) {
            try {
                pageSound.currentTime = 0;
                pageSound.play().catch(() => {});
            } catch (e) {}
        }

        if (scroll && pages[current]) {
            pages[current].scrollIntoView({ behavior: "smooth", block: "start" });
        }
    }

    nextBtn?.addEventListener("click", () => {
        if (current < total - 1) {
            current++;
            updateUI();
        }
    });

    prevBtn?.addEventListener("click", () => {
        if (current > 0) {
            current--;
            updateUI();
        }
    });

    chapterPills.forEach(btn => {
        btn.addEventListener("click", () => {
            const target = parseInt(btn.dataset.chapterTarget, 10) - 1;
            if (!Number.isNaN(target) && target >= 0 && target < total) {
                current = target;
                updateUI();
            }
        });
    });

    document.addEventListener("keydown", (e) => {
        if (e.key === "ArrowRight") nextBtn?.click();
        if (e.key === "ArrowLeft") prevBtn?.click();
    });

    // Expose scrollToChapter for hero buttons
    window.scrollToChapter = (chapterNumber) => {
        const index = chapterNumber - 1;
        if (index >= 0 && index < total) {
            current = index;
            updateUI();
        }
    };

    // Character click messages
    const characterLines = {
        pooh: [
            "Pooh smiles and thinks this is the kind of day that simply needs more honey.",
            "Pooh wonders if there's anything sweeter than welcoming a new little friend."
        ],
        piglet: [
            "Piglet feels a little fluttery, but mostly excited for Baby Gunnar.",
            "Piglet straightens the banner one more time, just to be sure."
        ],
        tigger: [
            "Tigger announces that baby celebrations are what Tiggers do best!",
            "Tigger promises to teach Gunnar the very bounciest bounces."
        ],
        roo: [
            "Roo practices tiny jumps, imagining the games they'll play someday.",
            "Roo says, \"I can't wait to show you all my favorite puddles!\""
        ],
        gunnar: [
            "Everyone is already saving their warmest hugs for you.",
            "Your story is just beginning, and the whole Wood is cheering."
        ]
    };

    const honeySound = document.getElementById("honeySound");

    document.querySelectorAll(".clickable-character").forEach(fig => {
        const character = fig.dataset.character;
        const msgEl = fig.querySelector(".character-message");
        fig.addEventListener("click", () => {
            const lines = characterLines[character] || ["A quiet, happy thought drifts through the leaves."];
            const line = lines[Math.floor(Math.random() * lines.length)];
            if (msgEl) msgEl.textContent = line;
            if (honeySound) {
                try {
                    honeySound.currentTime = 0;
                    honeySound.play().catch(() => {});
                } catch (e) {}
            }
        });
        fig.addEventListener("keydown", (e) => {
            if (e.key === "Enter" || e.key === " ") {
                e.preventDefault();
                fig.click();
            }
        });
    });

    // Wishes form
    const wishesForm = document.getElementById("wishesForm");
    const wishCharCount = document.getElementById("wishCharCount");
    const wishMessage = document.getElementById("wishMessage");
    const wishesDisplay = document.getElementById("wishesDisplay");
    const wishFeedback = document.getElementById("wishFeedback");

    if (wishMessage && wishCharCount) {
        const updateCount = () => {
            const len = wishMessage.value.length;
            wishCharCount.textContent = `${len}/500 characters`;
        };
        wishMessage.addEventListener("input", updateCount);
        updateCount();
    }

    if (wishesForm && wishesDisplay) {
        wishesForm.addEventListener("submit", (e) => {
            e.preventDefault();
            const name = document.getElementById("guestName").value.trim();
            const relation = document.getElementById("guestRelation").value;
            const message = wishMessage.value.trim();
            if (!name || !message) {
                if (wishFeedback) {
                    wishFeedback.textContent = "Please add your name and a message.";
                }
                return;
            }

            const card = document.createElement("article");
            card.className = "wish-card";

            const meta = document.createElement("div");
            meta.className = "wish-meta";
            meta.textContent = relation
                ? `${name} • ${relation.replace("-", " ")}`
                : name;

            const body = document.createElement("p");
            body.textContent = message;

            card.appendChild(meta);
            card.appendChild(body);
            wishesDisplay.prepend(card);

            wishesForm.reset();
            if (wishCharCount) wishCharCount.textContent = "0/500 characters";
            if (wishFeedback) wishFeedback.textContent = "Thank you! Your wish has been added.";
        });
    }

    // Countdown
    const targetDate = new Date("2025-08-31T00:00:00");
    const daysEl = document.getElementById("days");
    const hoursEl = document.getElementById("hours");

    function updateCountdown() {
        const now = new Date();
        const diff = targetDate.getTime() - now.getTime();
        if (diff <= 0) {
            if (daysEl) daysEl.textContent = "0";
            if (hoursEl) hoursEl.textContent = "0";
            return;
        }
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
        if (daysEl) daysEl.textContent = String(days);
        if (hoursEl) hoursEl.textContent = String(hours);
    }
    updateCountdown();
    setInterval(updateCountdown, 60 * 1000);

    // Honey jar hopes
    const addHopeBtn = document.getElementById("addHopeBtn");
    const hopesList = document.getElementById("hopesList");

    if (addHopeBtn && hopesList) {
        addHopeBtn.addEventListener("click", () => {
            const hope = window.prompt("What hope or dream would you like to share for Baby Gunnar?");
            if (hope && hope.trim()) {
                const li = document.createElement("li");
                li.textContent = hope.trim();
                hopesList.appendChild(li);
            }
        });
    }

    // Footer actions
    const printBtn = document.getElementById("printPageBtn");
    const shareBtn = document.getElementById("sharePageBtn");
    const toggleAnimationsBtn = document.getElementById("toggleAnimationsBtn");

    printBtn?.addEventListener("click", () => window.print());

    shareBtn?.addEventListener("click", async () => {
        const shareData = {
            title: document.title,
            text: "Join Baby Gunnar's Hundred Acre Wood Adventure!",
            url: window.location.href
        };
        if (navigator.share) {
            try {
                await navigator.share(shareData);
            } catch {
                // ignored
            }
        } else {
            navigator.clipboard?.writeText(window.location.href).catch(() => {});
            alert("Link copied to clipboard.");
        }
    });

    if (toggleAnimationsBtn) {
        toggleAnimationsBtn.addEventListener("click", () => {
            const body = document.body;
            const isOff = body.classList.toggle("animations-off");
            toggleAnimationsBtn.textContent = isOff ? "🎭 Animations: Off" : "🎭 Animations: On";
        });
    }

    // Audio initialization on first interaction
    const bgMusic = document.getElementById("bgMusic");
    const ambientForest = document.getElementById("ambientForest");
    let audioInitialized = false;

    function initAudio() {
        if (audioInitialized) return;
        audioInitialized = true;
        [bgMusic, ambientForest].forEach(el => {
            if (el) {
                try {
                    el.play().catch(() => {});
                } catch (e) {}
            }
        });
    }

    document.addEventListener("click", initAudio, { once: true });
    document.addEventListener("keydown", initAudio, { once: true });

});
</script>
<script src="game.js" defer></script>
</body>
</html>
