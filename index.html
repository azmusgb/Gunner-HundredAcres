<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta content="width=device-width, initial-scale=1.0, viewport-fit=cover" name="viewport">
    <title>Baby Gunnar's Hundred Acre Wood Adventure</title>
    <meta content="A storybook-style Hundred Acre Wood adventure with a honey-catching game to celebrate Baby Gunnar." name="description">
    <meta content="#f4a944" name="theme-color">
    <meta content="light dark" name="color-scheme">
    <meta content="Baby Gunnar's Hundred Acre Wood Shower" property="og:title">
    <meta content="A sweet storybook and honey-catching gameâ€”read, play, and leave your wishes." property="og:description">
    <meta content="icons/icon.svg" property="og:image">
    <meta content="website" property="og:type">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
    <link as="image" href="Images/Characters/Gunnar.png" rel="preload">
<link rel="stylesheet" href="styles.css">

  <style>
/* =========================================
   COMPLETE CONSOLIDATED CSS
   ========================================= */

/* =========================================
   1. ROOT + GLOBAL LAYOUT
   ========================================= */
:root {
    --bg: #fff9ec;
    --bg-soft: #fff4dd;
    --ink: #3b2604;
    --ink-soft: #5a4330;
    --accent: #f4b944;
    --accent-soft: #ffe4a8;
    --accent-strong: #f59e0b;
    --border-soft: rgba(0, 0, 0, 0.06);
    --card-bg: #ffffff;
    --card-radius: 24px;
    --shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.16);
    --shadow-subtle: 0 8px 20px rgba(0, 0, 0, 0.08);
    --shadow-tiny: 0 2px 6px rgba(0, 0, 0, 0.08);
    --transition-fast: 0.18s ease-out;
    --transition-med: 0.28s ease;
    --page-max-width: 1120px;
    --page-padding-x: 1.5rem;
    --page-padding-y: 1.5rem;
    --font-body: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
    --font-title: "Playfair Display", "Georgia", serif;
    --space-sm: 0.75rem;
    --space-md: 1.25rem;
    --touch-min: 44px;
    --touch-padding: 0.75rem;
    
    /* Additional variables from second block */
    --parchment: #F6ECD6;
    --parchment-dark: #E8DCC5;
    --honey: #E8A427;
    --forest-green: #5D7D4F;
    --baby-blue: #6BA3D4;
    --sky-wash: #E8F1F7;
}

*,
*::before,
*::after {
    box-sizing: border-box;
}

html,
body {
    margin: 0;
    padding: 0;
    overflow-x: hidden;
}

body {
    min-height: 100vh;
    font-family: var(--font-body);
    color: var(--ink);
    background: radial-gradient(circle at top, #fff4d4 0, #ffe5b0 28%, #ffe7c4 48%, #fff9ec 100%);
    -webkit-font-smoothing: antialiased;
    padding-left: env(safe-area-inset-left, 1rem);
    padding-right: env(safe-area-inset-right, 1rem);
    padding-top: env(safe-area-inset-top, 0);
    padding-bottom: env(safe-area-inset-bottom, 0);
}

/* Global touch targets */
.hero-action-btn,
.chapter-nav-btn,
.footer-link,
.submit-btn,
.chapter-pill,
.registry-card,
.clickable-character,
.btn {
    position: relative;
    min-height: var(--touch-min);
    min-width: var(--touch-min);
}

.footer-link,
.chapter-nav-btn {
    padding: var(--touch-padding) calc(var(--touch-padding) * 1.5);
}

.hero-action-btn,
.submit-btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
}

.btn-icon,
.pill-icon {
    padding: 0.25rem;
}

/* A11y helper */
.sr-only {
    position: absolute;
    width: 1px;
    height: 1px;
    padding: 0;
    margin: -1px;
    overflow: hidden;
    clip: rect(0, 0, 0, 0);
    border: 0;
}

/* Simple text utilities */
.divider {
    text-align: center;
    margin: 2rem 0;
    font-size: 0.95rem;
    opacity: 0.8;
}

/* =========================================
   2. DECORATIVE SCENE + CLOUDS
   ========================================= */
.enhanced-scene {
    position: fixed;
    inset: 0;
    pointer-events: none;
    background:
        radial-gradient(circle at top left, rgba(255, 255, 255, 0.8), transparent 55%),
        radial-gradient(circle at top right, rgba(255, 243, 205, 0.8), transparent 50%),
        radial-gradient(circle at bottom, rgba(255, 220, 185, 0.9), transparent 60%);
    opacity: 0.6;
    z-index: -2;
}

.cloud-layer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    pointer-events: none;
    display: flex;
    justify-content: space-around;
    padding-top: 0.5rem;
    font-size: 1.8rem;
    opacity: 0.45;
    z-index: -1;
}

.cloud {
    animation: floatClouds 24s linear infinite;
}

.cloud:nth-child(2) {
    animation-delay: -8s;
}

.cloud:nth-child(3) {
    animation-delay: -16s;
}

@keyframes floatClouds {
    0% {
        transform: translate3d(-10px, 0, 0);
    }
    50% {
        transform: translate3d(10px, 4px, 0);
    }
    100% {
        transform: translate3d(-10px, 0, 0);
    }
}

/* =========================================
   3. HERO / MASTHEAD
   ========================================= */
.masthead-hero {
    position: relative;
    padding-bottom: 2rem;
    color: var(--ink);
}

.hero-banner {
    position: relative;
    isolation: isolate;
    max-width: 900px;
    margin: 0 auto 1.5rem;
    border-radius: 32px;
    overflow: visible;
    box-shadow: var(--shadow-soft);
    background: linear-gradient(135deg, #ffe5b0, #ffd1a3);
}

.hero-image-container {
    position: relative;
    width: 100%;
    height: min(60vh, 520px);
    overflow: visible;
    display: flex;
    align-items: center;
    justify-content: center;
}

.hero-banner__img {
    width: 85%;
    max-width: 750px;
    height: auto;
    object-fit: contain;
    filter: saturate(1.05) contrast(1.03);
    transform-origin: center;
    margin: 0 auto;
    display: block;
}

/* Corner emojis */
.hero-corner-decoration {
    position: absolute;
    font-size: 1.8rem;
    filter: drop-shadow(0 2px 4px rgba(0, 0, 0, 0.16));
}

.hero-corner-decoration.top-left {
    top: 10px;
    left: 14px;
}

.hero-corner-decoration.top-right {
    top: 10px;
    right: 14px;
}

.hero-corner-decoration.bottom-left {
    bottom: 10px;
    left: 14px;
}

.hero-corner-decoration.bottom-right {
    bottom: 10px;
    right: 14px;
}

/* Title overlay */
.hero-title-container {
    position: absolute;
    inset: auto 0 0;
    display: flex;
    justify-content: center;
    padding: 1.25rem 1.5rem 1.6rem;
    pointer-events: none;
}

.title-background {
    pointer-events: auto;
    max-width: 650px;
    width: 100%;
    padding: 1.25rem 1.5rem 1.5rem;
    border-radius: 24px 24px 0 0;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.99),
        rgba(255, 248, 225, 0.9)
    );
    box-shadow: 0 -10px 30px rgba(0, 0, 0, 0.18);
    border: 1px solid rgba(255, 255, 255, 0.9);
    border-bottom: none;
}

.masthead-title {
    margin: 0 0 0.5rem;
    font-family: var(--font-title);
    letter-spacing: 0.04em;
    text-align: center;
}

.title-line {
    display: block;
}

.title-line--primary {
    font-size: clamp(1.3rem, 2vw + 1rem, 1.6rem);
    text-transform: uppercase;
    letter-spacing: 0.25em;
    opacity: 0.9;
}

.title-line--secondary {
    font-size: clamp(1.9rem, 3vw + 1.2rem, 2.4rem);
    font-weight: 700;
}

.title-underline {
    display: flex;
    justify-content: center;
    gap: 0.25rem;
    margin-bottom: 0.35rem;
}

.underline-dot {
    font-size: 0.95rem;
    color: var(--accent-strong);
}

.hero-subtitle {
    margin: 0;
    text-align: center;
    font-size: 0.95rem;
    color: var(--ink-soft);
}

/* Sparkles / bunting / sheen */
.hero-sparkles {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
        radial-gradient(circle at 10% 10%, rgba(255, 255, 255, 0.7), transparent 60%),
        radial-gradient(circle at 90% 30%, rgba(255, 225, 173, 0.7), transparent 55%);
    mix-blend-mode: screen;
    opacity: 0.6;
    z-index: -1;
}

.hero-bunting {
    max-width: 1200px;
    margin: 0.25rem auto 0;
    display: flex;
    justify-content: center;
    gap: 0.5rem;
    font-size: 1.4rem;
}

.hero-sheen {
    position: absolute;
    inset: 0;
    pointer-events: none;
    background: linear-gradient(
        135deg,
        rgba(255, 255, 255, 0.16),
        transparent 60%
    );
    mix-blend-mode: screen;
    opacity: 0.8;
}

/* Hero inner panel */
.masthead-hero-inner {
    max-width: var(--page-max-width);
    margin: 0.5rem auto 0;
    padding: 0 1.25rem;
}

.hero-panel {
    margin-top: 1.5rem;
    padding: 1.75rem 1.5rem;
    border-radius: var(--card-radius);
    background: rgba(255, 255, 255, 0.96);
    box-shadow: var(--shadow-subtle);
    border: 1px solid rgba(255, 255, 255, 0.8);
}

/* =========================================
   4. HERO BADGE + DETAIL GRID + CTA
   ========================================= */
.hero-badge {
    display: grid;
    grid-template-columns: auto minmax(0, 1.5fr);
    gap: 1rem;
    padding: 1rem 1.25rem;
    border-radius: 999px;
    background: linear-gradient(135deg, #fffaf0, #ffe8bb);
    align-items: center;
    border: 1px solid rgba(244, 185, 68, 0.3);
    margin-bottom: 1.5rem;
}

.badge-icon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.badge-icon-inner {
    width: 48px;
    height: 48px;
    border-radius: 999px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle at 30% 20%, #fff9e8, #f4b944);
    box-shadow: var(--shadow-tiny);
    font-size: 1.6rem;
}

.badge-copy {
    min-width: 0;
}

.badge-eyebrow {
    margin: 0;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    font-size: 0.7rem;
    opacity: 0.7;
}

.badge-label {
    margin: 0.15rem 0 0;
    font-size: 0.9rem;
    font-weight: 600;
}

.badge-title {
    margin: 0.15rem 0 0;
    font-size: 1rem;
    font-weight: 700;
}

.badge-meta {
    display: flex;
    gap: 0.5rem;
    flex-wrap: wrap;
    justify-content: flex-end;
    align-items: center;
    font-size: 0.8rem;
}

.badge-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    border-radius: 999px;
    padding: 0.3rem 0.7rem;
    background: rgba(255, 255, 255, 0.92);
    border: 1px solid rgba(255, 255, 255, 0.9);
    box-shadow: 0 2px 6px rgba(244, 185, 68, 0.25);
}

.pill-icon {
    font-size: 1rem;
}

.pill-text {
    white-space: nowrap;
}

/* Detail grid */
.hero-details-grid {
    display: grid;
    grid-template-columns: repeat(3, minmax(0, 1fr));
    gap: 1rem;
    margin-bottom: 1.5rem;
}

.hero-detail {
    display: flex;
    gap: 0.75rem;
    padding: 0.85rem 1rem;
    border-radius: 16px;
    background: #fffdfa;
    box-shadow: 0 4px 12px rgba(244, 185, 68, 0.12);
}

.detail-icon {
    font-size: 1.5rem;
}

.detail-title {
    margin: 0;
    font-size: 0.95rem;
    font-weight: 600;
}

.detail-text {
    margin: 0.15rem 0 0;
    font-size: 0.85rem;
    color: var(--ink-soft);
}

/* Hero CTAs */
.hero-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    margin-bottom: 1rem;
}

.hero-action-btn {
    border-radius: 999px;
    border: none;
    padding: 0.6rem 1.1rem;
    font-size: 0.9rem;
    font-weight: 600;
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    cursor: pointer;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
}

.hero-action-btn .btn-icon {
    font-size: 1.1rem;
}

.hero-action-btn.primary {
    background: linear-gradient(135deg, #f4b944, #f59e0b);
    color: #3b2604;
    box-shadow: 0 8px 18px rgba(244, 185, 68, 0.6);
}

.hero-action-btn.secondary {
    background: #ffffff;
    color: var(--ink);
    box-shadow: var(--shadow-tiny);
    border: 1px solid rgba(0, 0, 0, 0.06);
}

.hero-action-btn.ghost {
    background: transparent;
    color: var(--ink-soft);
    border: 1px dashed rgba(0, 0, 0, 0.16);
}

.hero-action-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 22px rgba(0, 0, 0, 0.14);
}

/* Orientation hint */
.orientation-hint {
    display: flex;
    align-items: center;
    gap: 0.6rem;
    padding-top: 0.5rem;
    border-top: 1px dashed rgba(0, 0, 0, 0.08);
    margin-top: 0.5rem;
    font-size: 0.83rem;
    color: var(--ink-soft);
}

.hint-icon {
    font-size: 1.4rem;
}

/* =========================================
   5. CHAPTER TRACKER
   ========================================= */
.chapter-tracker {
    margin: 1rem 0 0.75rem;
    max-width: var(--page-max-width);
    margin: 0 auto;
    padding: 1.25rem var(--page-padding-x);
}

.tracker-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
}

.tracker-label {
    font-size: 0.8rem;
    text-transform: uppercase;
    letter-spacing: 0.16em;
    opacity: 0.7;
    white-space: nowrap;
}

/* Progress bar */
.book-progress {
    position: relative;
    flex: 1;
    height: 0.4rem;
    border-radius: 999px;
    background: rgba(0, 0, 0, 0.06);
    overflow: hidden;
}

.book-progress .progress-fill {
    width: 0%;
    height: 100%;
    border-radius: inherit;
    background: linear-gradient(90deg, #f4b944, #f97316);
    transition: width 0.25s ease-out;
}

.chapter-pill-row {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.25rem;
}

.chapter-pill {
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    padding: 0.4rem 0.9rem;
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.08);
    background: #ffffff;
    box-shadow: var(--shadow-tiny);
    cursor: pointer;
    font-size: 0.85rem;
    flex: 1;
    min-width: 0;
}

.chapter-pill .pill-number {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    width: 1.7rem;
    height: 1.7rem;
    border-radius: 999px;
    background: #fff7dd;
    font-weight: 700;
    font-size: 0.85rem;
}

.chapter-pill .pill-text {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    flex: 1;
    min-width: 0;
}

.chapter-pill .pill-title {
    font-weight: 600;
    font-size: 0.85rem;
    display: block;
}

.chapter-pill .pill-detail {
    font-size: 0.75rem;
    opacity: 0.76;
    display: block;
}

.chapter-pill.active {
    border-color: #f4b944;
    background: linear-gradient(135deg, #fff8dd, #ffe4af);
}

.chapter-pill:hover {
    transform: translateY(-2px);
    box-shadow: var(--shadow-tiny);
}

/* Sparkle accent */
.sparkle {
    position: relative;
}

.sparkle::after {
    content: "";
    position: absolute;
    inset: -2px;
    border-radius: inherit;
    border: 1px solid rgba(255, 255, 255, 0.7);
    opacity: 0;
    pointer-events: none;
    animation: sparklePulse 2.8s ease-in-out infinite;
}

.chapter-pill.active.sparkle::after {
    opacity: 1;
}

@keyframes sparklePulse {
    0%,
    100% {
        transform: scale(1);
        opacity: 0.4;
    }
    50% {
        transform: scale(1.03);
        opacity: 1;
    }
}

/* =========================================
   6. BOOK LAYOUT + PAGES
   ========================================= */
.book-container {
    max-width: var(--page-max-width);
    margin: 1.25rem auto 3rem;
    padding: 0 var(--page-padding-x);
}

.book {
    margin-top: 1rem;
    border-radius: var(--card-radius);
    background: #fffdf8;
    box-shadow: var(--shadow-soft);
    border: 1px solid rgba(255, 255, 255, 0.9);
    overflow: hidden;
}

.pages-wrapper {
    position: relative;
    padding: var(--page-padding-y) var(--page-padding-x);
}

/* Page cards */
.page {
    display: none;
    opacity: 0;
    transform: translateY(4px);
    transition: opacity var(--transition-med), transform var(--transition-med);
}

.page.active {
    display: block;
    opacity: 1;
    transform: translateY(0);
}

.chapter-header {
    text-align: center;
    margin-bottom: 1.5rem;
    position: relative;
}

.chapter-number {
    margin: 0;
    font-size: 0.85rem;
    text-transform: uppercase;
    letter-spacing: 0.22em;
    opacity: 0.7;
}

.chapter-title {
    margin: 0.4rem 0 0.25rem;
    font-family: var(--font-title);
    font-size: 1.6rem;
}

.chapter-subtitle {
    margin: 0;
    font-size: 0.95rem;
    color: var(--ink-soft);
}

.honey-drip {
    position: absolute;
    bottom: -0.4rem;
    left: 50%;
    transform: translateX(-50%);
    width: 110px;
    height: 12px;
    border-radius: 999px;
    background: linear-gradient(90deg, #fbbf24, #f97316);
    opacity: 0.5;
}

/* Page body */
.page-content {
    margin-top: 1.75rem;
}

.story-text {
    margin: 0 0 1rem;
    line-height: 1.7;
    font-size: 0.98rem;
}

/* =========================================
   7. FIGURES / CHARACTER CARDS
   ========================================= */
.chapter-illustrations {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
    margin: 1.25rem 0 1.5rem;
}

.storybook-figure {
    flex: 1 1 180px;
    min-width: 0;
    padding: 0.75rem 0.85rem;
    border-radius: 18px;
    background: #ffffff;
    box-shadow: var(--shadow-tiny);
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.storybook-figure img {
    border-radius: 16px;
    background: #fff6dc;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.16);
    max-width: 96px;
    max-height: 96px;
    width: 100%;
    height: auto;
}

.figure-copy {
    min-width: 0;
}

.figure-name {
    font-weight: 600;
    font-size: 0.9rem;
}

.figure-note {
    margin: 0.15rem 0 0;
    font-size: 0.8rem;
    color: var(--ink-soft);
}

/* Theme tints */
.figure-theme-honey {
    background: linear-gradient(135deg, #fff7dd, #ffe7b8);
}

.figure-theme-forest {
    background: linear-gradient(135deg, #e5f4dd, #f3ffe3);
}

.figure-theme-sky {
    background: linear-gradient(135deg, #e5f4ff, #f3f9ff);
}

/* Clickable characters */
.clickable-character {
    cursor: pointer;
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.clickable-character:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 22px rgba(0, 0, 0, 0.18);
}

/* Character message bubble */
.character-message {
    margin-top: 0.5rem;
    font-size: 0.8rem;
    color: var(--ink);
}

/* Dialogue bubbles in narrative */
.dialogue-bubble {
    position: relative;
    margin: 1rem 0 1.25rem;
    padding: 0.7rem 0.9rem;
    border-radius: 16px;
    font-size: 0.9rem;
    line-height: 1.4;
}

.dialogue-piglet {
    background: #fff0f5;
}

.dialogue-pooh {
    background: #fff5dd;
}

.dialogue-bubble .speaker {
    display: block;
    margin-top: 0.3rem;
    font-size: 0.8rem;
    opacity: 0.8;
}

.bubble-arrow {
    position: absolute;
    left: 18px;
    bottom: 100%;
    width: 12px;
    height: 12px;
    background: inherit;
    transform: translateY(1px) rotate(45deg);
}

/* =========================================
   8. GAME EMBED + HONEY GAME
   ========================================= */
.game-embed {
    margin: 1.5rem auto;
    max-width: 960px;
    width: 100%;
    border-radius: 24px;
    overflow: hidden;
    background: #000;
    box-shadow: var(--shadow-soft);
    border: 2px solid rgba(0, 0, 0, 0.08);
    position: relative;
    min-height: 320px;
    aspect-ratio: 16 / 9;
}

.game-embed::before {
    content: 'Loading gameâ€¦';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, #ffe5b0, #ffd1a3);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.2rem;
    color: var(--ink);
    z-index: 1;
    opacity: 1;
    transition: opacity 0.3s ease;
}

.game-embed.loaded::before {
    opacity: 0;
    pointer-events: none;
}

.game-embed__frame {
    display: block;
    width: 100%;
    height: 100%;
    min-height: min(70vh, 640px);
    border: none;
}

/* Game inline container */
.game-inline-container {
    margin: 1.5rem auto;
    max-width: 960px;
    width: 100%;
    border-radius: 24px;
    overflow: hidden;
    background: linear-gradient(to top, #fef3c7, #fffbeb);
    box-shadow: var(--shadow-soft);
    border: 2px solid rgba(0, 0, 0, 0.08);
    height: min(70vh, 640px);
    min-height: 400px;
    position: relative;
    aspect-ratio: 16/9;
}

#gameCanvas {
    position: relative;
    z-index: 2;
    width: 100%;
    height: 100%;
    display: block;
}

/* Game HUD */
.game-hud {
    position: absolute;
    z-index: 30;
    left: 50%;
    top: 12px;
    transform: translateX(-50%);
    width: calc(100% - 100px);
    display: grid;
    grid-template-columns: repeat(5, minmax(0, 1fr));
    gap: 8px;
    padding: 12px 20px;
    border-radius: 999px;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 248, 220, 0.98));
    box-shadow: 0 10px 32px rgba(0, 0, 0, 0.3);
    border: 1px solid rgba(255, 255, 255, 0.9);
    font-size: 0.85rem;
    align-items: center;
    backdrop-filter: blur(10px);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.game-hud.visible {
    opacity: 1;
}

.game-hud-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    line-height: 1.1;
    min-width: 0;
}

.game-hud-label {
    opacity: 0.75;
    font-size: 0.7em;
    text-transform: uppercase;
    letter-spacing: 0.08em;
}

.game-hud-value {
    font-weight: 700;
    font-size: 1.1em;
    white-space: nowrap;
}

.streak-badge {
    margin-top: 2px;
    padding: 2px 10px;
    border-radius: 999px;
    font-size: 0.8em;
    text-transform: uppercase;
    letter-spacing: 0.08em;
    background: linear-gradient(135deg, rgba(254, 243, 199, 0.95), rgba(253, 224, 71, 0.95));
    color: #c2410c;
    font-weight: 700;
    box-shadow: 0 2px 8px rgba(249, 115, 22, 0.4);
    opacity: 0;
    transform: scale(0.7);
    transition: opacity 0.3s ease, transform 0.3s ease;
}

.streak-badge.visible {
    opacity: 1;
    transform: scale(1);
}

/* Game backgrounds */
.game-bg-horizon {
    position: absolute;
    inset: 0;
    background:
        radial-gradient(circle at 20% 15%, rgba(255, 255, 255, 0.9), transparent 60%),
        radial-gradient(circle at 80% 10%, rgba(254, 240, 138, 0.9), transparent 60%),
        linear-gradient(to bottom, #bfdbfe 0%, #e0f2fe 40%, transparent 60%);
    opacity: 0.95;
    pointer-events: none;
    z-index: 0;
}

.game-bg-ground {
    position: absolute;
    left: -10%;
    right: -10%;
    bottom: -2%;
    height: 20%;
    background:
        radial-gradient(circle at 20% 0, rgba(134, 239, 172, 0.95), transparent 55%),
        radial-gradient(circle at 80% 0, rgba(74, 222, 128, 0.95), transparent 55%),
        linear-gradient(to top, #65a30d, #4d7c0f);
    box-shadow: 0 -16px 32px rgba(34, 197, 94, 0.6);
    pointer-events: none;
    z-index: 0;
}

/* Game overlays */
.game-start-overlay,
.game-overlay {
    position: absolute;
    inset: 0;
    z-index: 100;
    display: flex;
    align-items: center;
    justify-content: center;
    background: radial-gradient(circle at top, rgba(248, 250, 252, 0.96), rgba(248, 250, 252, 0.7));
    backdrop-filter: blur(8px);
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease-out;
}

.game-start-overlay {
    opacity: 1;
    pointer-events: auto;
}

.game-start-overlay.hidden,
.game-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

.game-start-card,
.game-overlay-card {
    width: 100%;
    max-width: 300px;
    border-radius: 20px;
    padding: 1.5rem;
    background: rgba(255, 255, 255, 0.98);
    border: 1px solid rgba(250, 204, 21, 0.7);
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.18);
    text-align: center;
    transform: scale(0.9);
    transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.game-start-overlay:not(.hidden) .game-start-card,
.game-overlay.visible .game-overlay-card {
    transform: scale(1);
}

.game-start-title {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    color: #f59e0b;
}

.game-start-subtitle {
    font-size: 0.9rem;
    color: var(--ink-soft);
    margin-bottom: 1.5rem;
}

/* Mobile controls */
.mobile-controls {
    position: absolute;
    bottom: 20px;
    left: 0;
    right: 0;
    z-index: 40;
    display: flex;
    justify-content: space-between;
    padding: 0 20px;
    gap: 20px;
    opacity: 0;
    transition: opacity 0.3s ease;
}

.mobile-controls.visible {
    opacity: 1;
}

.mobile-control-btn {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95), rgba(255, 248, 220, 0.98));
    border: 1px solid rgba(250, 204, 21, 0.5);
    font-size: 24px;
    color: var(--ink);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    transition: all 0.2s ease;
}

.mobile-control-btn:active {
    transform: scale(0.95);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

.mobile-control-pause {
    background: linear-gradient(135deg, #fbbf24, #f59e0b);
    color: #1f1306;
}

/* Game description */
.game-description {
    margin: 1.5rem auto;
    padding: 1.5rem;
    border-radius: 20px;
    background: linear-gradient(135deg, #fffaf0, #ffe8bb);
    border: 1px solid rgba(244, 185, 68, 0.3);
}

.game-description h3 {
    margin: 0 0 1rem;
    font-family: var(--font-title);
    font-size: 1.4rem;
    color: var(--ink);
}

.game-description p {
    margin: 0 0 1.25rem;
    line-height: 1.6;
    font-size: 0.95rem;
    color: var(--ink-soft);
}

.game-tips {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
    margin-top: 1.25rem;
}

.tip {
    display: flex;
    gap: 0.75rem;
    padding: 0.9rem;
    border-radius: 14px;
    background: rgba(255, 255, 255, 0.9);
    align-items: flex-start;
}

.tip-icon {
    font-size: 1.2rem;
    flex-shrink: 0;
}

.tip p {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.5;
}

.tip strong {
    color: var(--ink);
    font-weight: 700;
}

/* =========================================
   9. REGISTRY + NURSERY DETAILS + WISHES
   ========================================= */
.registry-container {
    margin: 2rem 0 1.75rem;
}

.registry-section {
    padding: 1.25rem 1.3rem;
    border-radius: 22px;
    background: linear-gradient(135deg, #fffaf3, #ffeede);
    box-shadow: var(--shadow-subtle);
}

.registry-header {
    display: flex;
    gap: 0.8rem;
    align-items: center;
    margin-bottom: 1rem;
}

.registry-icon {
    font-size: 1.8rem;
}

.registry-header h3 {
    margin: 0 0 0.4rem;
    font-family: var(--font-title);
    font-size: 1.5rem;
}

.registry-subtitle {
    margin: 0.2rem 0 0;
    font-size: 0.9rem;
    color: var(--ink-soft);
    line-height: 1.5;
}

.registry-grid {
    display: grid;
    grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.2fr);
    gap: 1rem;
    margin-top: 1.5rem;
}

.registry-card {
    display: flex;
    gap: 0.75rem;
    padding: 0.9rem 1rem;
    border-radius: 18px;
    background: #ffffff;
    text-decoration: none;
    color: inherit;
    box-shadow: var(--shadow-tiny);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.registry-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 10px 24px rgba(0, 0, 0, 0.18);
}

.registry-card .card-icon {
    font-size: 1.5rem;
}

.registry-card .card-content {
    flex: 1;
    min-width: 0;
}

.registry-card .card-content h4 {
    margin: 0 0 0.2rem;
    font-size: 0.95rem;
    font-weight: 700;
}

.registry-card .card-content p {
    margin: 0;
    font-size: 0.85rem;
    color: var(--ink-soft);
    line-height: 1.5;
}

.registry-card .card-link {
    display: inline-block;
    margin-top: 0.3rem;
    font-size: 0.8rem;
    color: #b45309;
    font-weight: 600;
    text-decoration: underline;
    text-underline-offset: 3px;
}

.gift-idea-card {
    flex-direction: column;
}

.gift-ideas {
    margin: 0.25rem 0 0;
    padding-left: 1.1rem;
    font-size: 0.85rem;
    list-style: none;
}

.gift-ideas li {
    margin-bottom: 0.3rem;
    padding-left: 0;
    position: relative;
}

.gift-ideas li::before {
    content: 'ðŸŽ';
    position: absolute;
    left: -1.2rem;
    font-size: 0.8rem;
}

/* Nursery details */
.nursery-details {
    margin: 2rem 0 1.75rem;
    padding: 1.5rem;
    border-radius: 20px;
    background: linear-gradient(135deg, #f8f9ff, #f0f7ff);
}

.nursery-details h3 {
    margin: 0 0 1.25rem;
    font-family: var(--font-title);
    font-size: 1.4rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.details-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 1rem;
}

.detail-card {
    display: flex;
    gap: 0.9rem;
    padding: 1rem;
    border-radius: 16px;
    background: white;
    border: 1px solid rgba(0, 0, 0, 0.05);
}

.detail-card .detail-icon {
    font-size: 1.4rem;
    flex-shrink: 0;
}

.detail-card .detail-content {
    flex: 1;
    min-width: 0;
}

.detail-card h4 {
    margin: 0 0 0.3rem;
    font-size: 1rem;
    font-weight: 700;
}

.detail-card p {
    margin: 0;
    font-size: 0.9rem;
    line-height: 1.4;
    color: var(--ink);
}

.detail-card small {
    display: block;
    margin-top: 0.2rem;
    font-size: 0.8rem;
    color: var(--ink-soft);
}

/* Wishes section */
.wishes-section {
    margin: 2.5rem 0;
    padding: 1.75rem;
    border-radius: 22px;
    background: linear-gradient(135deg, #fffaf3, #ffeede);
    border: 1px solid rgba(244, 185, 68, 0.2);
}

.wishes-header {
    margin-bottom: 1.75rem;
    text-align: center;
}

.wishes-header h3 {
    margin: 0 0 0.5rem;
    font-family: var(--font-title);
    font-size: 1.5rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
}

.wishes-header p {
    margin: 0;
    font-size: 0.95rem;
    color: var(--ink-soft);
    max-width: 600px;
    margin: 0 auto;
    line-height: 1.5;
}

.enhanced-form {
    max-width: 600px;
    margin: 0 auto;
    padding: 1rem 1rem 1.1rem;
    border-radius: 18px;
    background: #fffdf8;
    box-shadow: var(--shadow-tiny);
}

.form-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: var(--space-md);
    margin-bottom: 0.75rem;
}

.form-field {
    margin-bottom: 1.25rem;
}

.form-field label {
    display: block;
    margin-bottom: 0.5rem;
    font-weight: 600;
    font-size: 0.9rem;
    color: var(--ink);
}

.form-field input,
.form-field select,
.form-field textarea {
    width: 100%;
    padding: 0.55rem 0.6rem;
    border-radius: 10px;
    border: 1px solid rgba(0, 0, 0, 0.14);
    font-family: inherit;
    font-size: 0.9rem;
    background: rgba(255, 255, 255, 0.96);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
}

.form-field input:focus,
.form-field select:focus,
.form-field textarea:focus {
    outline: none;
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(244, 185, 68, 0.2);
}

.form-field textarea {
    resize: vertical;
    min-height: 120px;
    line-height: 1.6;
}

.character-count {
    margin-top: 0.25rem;
    font-size: 0.75rem;
    text-align: right;
    color: var(--ink-soft);
}

.form-actions {
    margin-top: 0.6rem;
    display: flex;
    flex-wrap: wrap;
    gap: 0.75rem;
    align-items: center;
}

.submit-btn {
    border-radius: 999px;
    border: none;
    padding: 0.55rem 1.1rem;
    background: linear-gradient(135deg, #f4b944, #f59e0b);
    color: #3b2604;
    font-weight: 600;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 0.4rem;
    box-shadow: 0 6px 16px rgba(244, 185, 68, 0.6);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast);
}

.submit-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 22px rgba(244, 185, 68, 0.7);
}

.form-feedback {
    font-size: 0.8rem;
    color: var(--ink-soft);
    min-height: 1.5rem;
    text-align: center;
}

.form-feedback.success {
    color: #38a169;
}

.form-feedback.error {
    color: #e53e3e;
}

/* Sample wishes */
.sample-wishes {
    margin-top: 1rem;
    padding-top: 1.75rem;
    border-top: 1px dashed rgba(0, 0, 0, 0.1);
}

.sample-wishes h4 {
    margin: 0 0 1rem;
    font-size: 1.1rem;
    color: var(--ink);
}

.wish-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(190px, 1fr));
    gap: 0.8rem;
}

.wish-example {
    margin: 0;
    padding: 0.7rem 0.9rem;
    border-radius: 14px;
    background: #ffffff;
    box-shadow: var(--shadow-tiny);
    font-size: 0.85rem;
    font-style: italic;
    border-left: 4px solid var(--accent);
}

.wish-example p {
    margin: 0 0 0.75rem;
    font-size: 0.95rem;
    line-height: 1.5;
    color: var(--ink);
}

.wish-example cite {
    display: block;
    margin-top: 0.3rem;
    font-size: 0.8rem;
    opacity: 0.8;
    font-style: normal;
    font-weight: 600;
    color: var(--ink-soft);
}

/* Dynamic wishes display */
.wishes-display {
    margin-top: 1.25rem;
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(210px, 1fr));
    gap: 0.9rem;
}

.wishes-display .wish-card {
    padding: 0.8rem 0.9rem;
    border-radius: 16px;
    background: #fffdfa;
    box-shadow: var(--shadow-tiny);
    font-size: 0.9rem;
}

.wish-card .wish-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.75rem;
    flex-wrap: wrap;
}

.wish-header strong {
    font-size: 1rem;
    color: var(--ink);
}

.wish-relation {
    font-size: 0.85rem;
    color: var(--ink-soft);
    font-weight: 500;
}

.wish-card .wish-message {
    margin: 0.5rem 0;
    font-size: 0.95rem;
    line-height: 1.6;
    color: var(--ink);
}

.wish-card .wish-date {
    font-size: 0.8rem;
    color: var(--ink-soft);
    text-align: right;
}

/* =========================================
   10. CHAPTER 4 CELEBRATION / COUNTDOWN
   ========================================= */
.welcome-panel {
    margin: 1.75rem 0 1.5rem;
    padding: 1rem 1.1rem;
    border-radius: 20px;
    background: linear-gradient(135deg, #fff6dd, #ffe4b2);
    display: flex;
    align-items: center;
    gap: 0.8rem;
}

.welcome-icon {
    font-size: 1.7rem;
}

.welcome-heading {
    margin: 0;
    font-family: var(--font-title);
    font-size: 1.5rem;
}

.welcome-subtitle {
    margin: 0.2rem 0 0;
    font-size: 0.9rem;
    color: var(--ink-soft);
}

/* Countdown */
.countdown-section {
    margin: 1.5rem 0 1.75rem;
    text-align: center;
}

.countdown-section h3 {
    margin: 0 0 1.25rem;
    font-family: var(--font-title);
    font-size: 1.5rem;
}

.countdown-display {
    display: flex;
    gap: 1rem;
    margin: 0.7rem 0;
    justify-content: center;
    flex-wrap: wrap;
}

.countdown-item {
    flex: 0 0 90px;
    padding: 0.7rem 0.8rem;
    border-radius: 16px;
    background: #ffffff;
    box-shadow: var(--shadow-tiny);
    text-align: center;
}

.countdown-number {
    display: block;
    font-size: 1.35rem;
    font-weight: 700;
    color: var(--accent-strong);
}

.countdown-label {
    font-size: 0.8rem;
    opacity: 0.8;
    color: var(--ink-soft);
    text-transform: uppercase;
    letter-spacing: 0.1em;
}

.countdown-note {
    margin: 0;
    font-size: 0.9rem;
    color: var(--ink-soft);
}

/* Honey jar hopes */
.honey-jar-interactive {
    margin: 1.75rem 0 1.5rem;
    padding: 1rem 1.1rem;
    border-radius: 20px;
    background: #fffdf5;
    box-shadow: var(--shadow-tiny);
    text-align: center;
}

.honey-jar-interactive > div:first-child {
    font-size: 2rem;
    margin-bottom: 0.5rem;
}

.honey-jar-interactive h3 {
    margin: 0.3rem 0 0.3rem;
    font-family: var(--font-title);
    font-size: 1.4rem;
    color: var(--ink);
}

.honey-jar-interactive p {
    margin: 0 0 0.6rem;
    font-size: 0.95rem;
    color: var(--ink-soft);
    line-height: 1.5;
}

/* Generic button */
.btn {
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.14);
    padding: 0.5rem 1.1rem;
    font-size: 0.9rem;
    font-weight: 600;
    cursor: pointer;
    background: #ffffff;
    box-shadow: var(--shadow-tiny);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
}

.btn.primary {
    border-color: transparent;
    background: linear-gradient(135deg, #f4b944, #f59e0b);
    color: #3b2604;
    box-shadow: 0 6px 16px rgba(244, 185, 68, 0.6);
}

.btn.primary:hover {
    transform: translateY(-1px);
    box-shadow: 0 10px 22px rgba(244, 185, 68, 0.7);
}

.hopes-list {
    margin: 0.5rem 0 0;
    padding-left: 1.1rem;
    font-size: 0.9rem;
    list-style: none;
    text-align: left;
}

.hopes-list li {
    margin-bottom: 0.5rem;
    padding: 0.5rem 0.75rem;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 8px;
    border-left: 3px solid var(--accent);
}

/* Final quote */
.final-thought {
    margin-top: 1.5rem;
    padding-top: 1rem;
    border-top: 1px dashed rgba(0, 0, 0, 0.12);
    text-align: center;
}

.final-thought blockquote {
    margin: 0 0 1rem;
    font-size: 1.2rem;
    font-style: italic;
    color: var(--ink);
    line-height: 1.6;
}

.final-thought blockquote p {
    margin: 0 0 0.5rem;
}

.final-thought cite {
    font-style: normal;
    font-weight: 600;
    color: var(--ink-soft);
    font-size: 1rem;
}

.final-thought .signature {
    margin-top: 0.6rem;
    font-size: 0.9rem;
    color: var(--ink-soft);
    font-weight: 700;
}

/* =========================================
   11. NAVIGATION BUTTONS
   ========================================= */
.chapter-nav {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 0.75rem;
    padding: 0.85rem 1.25rem 1.1rem;
    border-top: 1px solid rgba(0, 0, 0, 0.06);
    background: rgba(255, 255, 255, 0.96);
}

.chapter-nav-btn {
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.18);
    padding: 0.45rem 0.9rem;
    font-size: 0.9rem;
    cursor: pointer;
    background: #ffffff;
    box-shadow: var(--shadow-tiny);
    transition: transform var(--transition-fast), box-shadow var(--transition-fast), background var(--transition-fast);
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: var(--touch-min);
}

.chapter-nav-btn.next {
    border-color: transparent;
    background: linear-gradient(135deg, #f4b944, #f59e0b);
    color: #3b2604;
}

.chapter-nav-btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 8px 18px rgba(0, 0, 0, 0.16);
}

.chapter-indicator {
    font-size: 0.9rem;
    color: var(--ink-soft);
    padding: 0.5rem 1rem;
    background: rgba(255, 255, 255, 0.8);
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.06);
}

/* =========================================
   12. FOOTER
   ========================================= */
.site-footer {
    max-width: var(--page-max-width);
    margin: 0 auto 2rem;
    padding: 1.25rem var(--page-padding-x) 0;
    text-align: center;
    font-size: 0.85rem;
    color: var(--ink-soft);
    border-top: 1px solid rgba(0, 0, 0, 0.06);
    padding-top: 2rem;
}

.site-footer > p:first-child {
    margin: 0 0 1.25rem;
    font-size: 1rem;
}

.footer-links {
    margin-top: 0.5rem;
    display: flex;
    justify-content: center;
    gap: 0.75rem;
    flex-wrap: wrap;
}

.footer-link {
    border-radius: 999px;
    border: 1px solid rgba(0, 0, 0, 0.16);
    padding: 0.35rem 0.8rem;
    font-size: 0.8rem;
    background: #ffffff;
    cursor: pointer;
    box-shadow: var(--shadow-tiny);
    display: inline-flex;
    align-items: center;
    gap: 0.5rem;
    transition: all var(--transition-fast);
}

.footer-link:hover {
    background: var(--accent-soft);
    border-color: var(--accent);
    transform: translateY(-1px);
}

/* =========================================
   13. SETTINGS PANEL
   ========================================= */
.settings-panel {
    position: fixed;
    top: 20px;
    left: 20px;
    z-index: 1000;
}

.settings-button {
    width: 48px;
    height: 48px;
    border-radius: 50%;
    background: linear-gradient(135deg, #f4b944, #f59e0b);
    border: 2px solid rgba(255, 255, 255, 0.9);
    color: #3b2604;
    font-size: 1.5rem;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: 0 8px 24px rgba(244, 185, 68, 0.6);
    transition: all 0.3s ease;
    position: relative;
    z-index: 1001;
}

.settings-button:hover {
    transform: rotate(30deg) scale(1.1);
    box-shadow: 0 12px 32px rgba(244, 185, 68, 0.8);
}

.settings-overlay {
    position: fixed;
    inset: 0;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(8px);
    z-index: 999;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 0;
    pointer-events: none;
    transition: opacity 0.3s ease;
}

.settings-overlay.visible {
    opacity: 1;
    pointer-events: auto;
}

.settings-card {
    width: 90%;
    max-width: 500px;
    max-height: 90vh;
    overflow-y: auto;
    background: #fffdf8;
    border-radius: 24px;
    padding: 2rem;
    box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
    border: 2px solid #f4b944;
    transform: translateY(20px);
    transition: transform 0.3s ease;
}

.settings-overlay.visible .settings-card {
    transform: translateY(0);
}

.settings-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem;
    padding-bottom: 1rem;
    border-bottom: 2px solid #f4b944;
}

.settings-header h2 {
    margin: 0;
    color: #3b2604;
    font-family: var(--font-title);
    font-size: 1.8rem;
}

.close-settings {
    background: none;
    border: none;
    font-size: 1.8rem;
    color: #3b2604;
    cursor: pointer;
    padding: 0.5rem;
    border-radius: 8px;
    transition: background 0.2s ease;
}

.close-settings:hover {
    background: rgba(244, 185, 68, 0.2);
}

.settings-section {
    margin-bottom: 2rem;
}

.settings-section h3 {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin: 0 0 1rem 0;
    color: #3b2604;
    font-size: 1.1rem;
    font-family: var(--font-title);
}

.setting-option {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.8rem 0;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.setting-label {
    flex: 1;
}

.setting-label span {
    display: block;
    font-weight: 600;
    margin-bottom: 0.2rem;
    color: #3b2604;
}

.setting-label small {
    font-size: 0.8rem;
    color: #5a4330;
    opacity: 0.8;
}

/* Toggle switches */
.toggle-switch {
    position: relative;
    display: inline-block;
    width: 60px;
    height: 30px;
}

.toggle-switch input {
    opacity: 0;
    width: 0;
    height: 0;
}

.toggle-slider {
    position: absolute;
    cursor: pointer;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background-color: #e0e0e0;
    transition: .4s;
    border-radius: 30px;
}

.toggle-slider:before {
    position: absolute;
    content: "";
    height: 22px;
    width: 22px;
    left: 4px;
    bottom: 4px;
    background-color: white;
    transition: .4s;
    border-radius: 50%;
}

input:checked + .toggle-slider {
    background-color: #f4b944;
}

input:checked + .toggle-slider:before {
    transform: translateX(30px);
}

/* Select dropdowns */
.setting-select {
    padding: 0.5rem 0.75rem;
    border-radius: 8px;
    border: 2px solid #f4b944;
    background: white;
    color: #3b2604;
    font-family: inherit;
    font-size: 0.9rem;
    min-width: 120px;
    cursor: pointer;
}

.setting-select:focus {
    outline: none;
    box-shadow: 0 0 0 3px rgba(244, 185, 68, 0.3);
}

/* Range sliders */
.setting-range {
    flex: 1;
    max-width: 200px;
    height: 30px;
    -webkit-appearance: none;
    appearance: none;
    background: #e0e0e0;
    border-radius: 15px;
    outline: none;
}

.setting-range::-webkit-slider-thumb {
    -webkit-appearance: none;
    appearance: none;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: #f4b944;
    cursor: pointer;
    border: 3px solid white;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.setting-range-value {
    min-width: 40px;
    text-align: center;
    font-weight: 600;
    color: #3b2604;
}

/* Color themes */
.theme-options {
    display: flex;
    gap: 1rem;
    margin-top: 0.5rem;
}

.theme-option {
    flex: 1;
    padding: 0.8rem;
    border-radius: 12px;
    text-align: center;
    cursor: pointer;
    border: 2px solid transparent;
    transition: all 0.3s ease;
    background: #fff;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
}

.theme-option:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.15);
}

.theme-option.active {
    border-color: #f4b944;
    background: #fffaf0;
}

.theme-option .icon {
    font-size: 1.5rem;
    margin-bottom: 0.5rem;
    display: block;
}

.theme-option .name {
    font-weight: 600;
    color: #3b2604;
    font-size: 0.9rem;
}

/* Settings actions */
.settings-actions {
    display: flex;
    gap: 1rem;
    margin-top: 2rem;
    padding-top: 1rem;
    border-top: 2px solid #f4b944;
}

.settings-btn {
    flex: 1;
    padding: 0.8rem 1.5rem;
    border-radius: 12px;
    border: none;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.3s ease;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-family: inherit;
}

.settings-btn.primary {
    background: linear-gradient(135deg, #f4b944, #f59e0b);
    color: #3b2604;
}

.settings-btn.secondary {
    background: #f0f0f0;
    color: #3b2604;
    border: 2px solid #ddd;
}

.settings-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

/* Notifications */
.notification {
    position: fixed;
    top: 20px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #f4b944, #f59e0b);
    color: #3b2604;
    padding: 12px 24px;
    border-radius: 999px;
    font-weight: 600;
    box-shadow: 0 8px 24px rgba(0, 0, 0, 0.3);
    z-index: 1001;
    animation: slideDown 0.3s ease, slideUp 0.3s ease 2s forwards;
}

@keyframes slideDown {
    from { top: -100px; opacity: 0; }
    to { top: 20px; opacity: 1; }
}

@keyframes slideUp {
    from { top: 20px; opacity: 1; }
    to { top: -100px; opacity: 0; }
}

/* =========================================
   14. ANIMATIONS TOGGLE
   ========================================= */
body.animations-off .cloud {
    animation: none !important;
}

body.animations-off .chapter-pill.sparkle::after {
    display: none;
}

body.animations-off .hero-action-btn:hover,
body.animations-off .chapter-nav-btn:hover,
body.animations-off .footer-link:hover,
body.animations-off .submit-btn:hover,
body.animations-off .chapter-pill:hover,
body.animations-off .registry-card:hover,
body.animations-off .clickable-character:hover {
    transform: none !important;
}

/* Global animation toggle hook */
.no-animations {
    scroll-behavior: auto;
}

.no-animations *,
.no-animations *::before,
.no-animations *::after {
    animation: none !important;
    transition: none !important;
}

/* =========================================
   15. RESPONSIVE DESIGN
   ========================================= */
@media (max-width: 900px) {
    .hero-banner {
        border-radius: 0;
        box-shadow: none;
    }
    
    .hero-image-container {
        height: min(50vh, 420px);
    }
    
    .hero-title-container {
        padding-inline: 1rem;
    }
    
    .title-background {
        border-radius: 20px 20px 0 0;
    }
    
    .hero-panel {
        margin-top: 1rem;
        padding: 1.25rem 1rem 1.4rem;
    }
    
    .hero-badge {
        grid-template-columns: 1fr;
        border-radius: 20px;
    }
    
    .hero-details-grid {
        grid-template-columns: minmax(0, 1fr);
    }
    
    .registry-grid {
        grid-template-columns: minmax(0, 1fr);
    }
    
    .game-hud {
        width: calc(100% - 80px);
        grid-template-columns: repeat(3, minmax(0, 1fr));
        row-gap: 2px;
        padding: 3px 8px;
    }
}

@media (max-width: 768px) {
    .book-container {
        padding-inline: 1rem;
    }
    
    .pages-wrapper {
        padding-inline: 1rem;
    }
    
    .form-grid {
        grid-template-columns: 1fr;
        gap: var(--space-sm);
    }
    
    input[type="text"],
    input[type="email"],
    input[type="tel"],
    textarea,
    select {
        font-size: 16px !important;
    }
    
    .form-field input,
    .form-field select,
    .form-field textarea {
        padding: 0.75rem 0.85rem;
        min-height: var(--touch-min);
    }
    
    .chapter-illustrations {
        flex-direction: column;
    }
    
    .hero-actions {
        flex-direction: column;
        align-items: stretch;
    }
    
    .hero-action-btn {
        justify-content: center;
        width: 100%;
    }
    
    .countdown-display {
        justify-content: center;
    }
    
    .hud-row {
        flex-wrap: wrap;
    }
    
    .overlay-content {
        padding: 1.5rem;
        margin: 1rem;
    }
    
    .modal-content {
        padding: 20px;
        margin: 1rem;
    }
    
    .settings-panel {
        top: 10px;
        right: 10px;
    }
    
    .settings-button {
        width: 40px;
        height: 40px;
        font-size: 1.2rem;
    }
    
    .game-hud {
        top: 8px;
        padding: 8px 12px;
        font-size: 0.7rem;
        width: calc(100% - 60px);
    }
    
    .game-embed__frame {
        height: 100%;
    }
    
    .game-inline-container {
        height: 60vh;
        min-height: 300px;
    }
    
    .mobile-controls {
        display: flex;
    }
    
    .settings-card {
        padding: 1.5rem;
        margin: 1rem;
    }
    
    .setting-option {
        flex-direction: column;
        align-items: flex-start;
        gap: 0.5rem;
    }
    
    .setting-range {
        max-width: 100%;
    }
    
    .theme-options {
        flex-direction: column;
    }
    
    .settings-actions {
        flex-direction: column;
    }
    
    .hero-banner__img {
        width: 90% !important;
        max-width: 500px !important;
    }
    
    .hero-banner {
        max-width: 95%;
    }
}

@media (max-width: 480px) {
    .hero-actions {
        flex-direction: column;
    }
    
    .hero-action-btn {
        width: 100%;
        justify-content: center;
    }
    
    .chapter-pill-row {
        flex-direction: column;
    }
    
    .chapter-pill {
        width: 100%;
    }
    
    .footer-links {
        flex-direction: column;
        align-items: center;
    }
    
    .footer-link {
        width: 200px;
    }
    
    .chapter-nav {
        flex-direction: column;
        gap: 0.75rem;
    }
    
    .chapter-nav-btn {
        width: 100%;
        justify-content: center;
    }
    
    .chapter-indicator {
        order: -1;
    }
}

/* Mobile-specific hero image adjustments */
.chapter-illustrations img[src*="Gunnar.png"] {
    max-width: 150px;
    height: auto;
}

/* =========================================
   16. TOUCH CONTROLS
   ========================================= */
.touch-controls {
    display: none;
    position: absolute;
    left: 50%;
    bottom: 12px;
    transform: translateX(-50%);
    justify-content: space-between;
    z-index: 3;
    gap: 10px;
    width: min(360px, 90%);
}

.touch-btn {
    flex: 1;
    padding: 10px 0;
    border-radius: 14px;
    border: 2px solid #f4a944;
    background: rgba(255, 255, 255, 0.92);
    font-size: 1.1rem;
    font-weight: 700;
    color: #2b1810;
    box-shadow: 0 8px 16px rgba(0, 0, 0, 0.18);
    cursor: pointer;
    transition: transform 0.15s ease, box-shadow 0.2s ease;
}

@media (max-width: 600px) {
    .touch-controls {
        display: flex !important;
    }
}

/* =========================================
   17. PRINT STYLES
   ========================================= */
@media print {
    .hero-action-btn,
    .chapter-nav-btn,
    .footer-link,
    .submit-btn,
    .chapter-pill,
    .clickable-character {
        border: 1px solid #ddd !important;
        background: white !important;
        color: black !important;
        box-shadow: none !important;
    }
    
    .enhanced-scene,
    .cloud-layer,
    .hero-sparkles,
    .hero-sheen,
    .hero-corner-decoration,
    .honey-drip {
        display: none !important;
    }
    
    body {
        background: white !important;
    }
    
    .hero-banner {
        box-shadow: none !important;
        border: 1px solid #ddd !important;
    }
    
    .game-embed {
        display: none !important;
    }
}
    </style>

    <link as="image" href="Images/Characters/Gunnar.png" rel="preload">
</head>
<body>
    <!-- Decorative Elements -->
    <div class="enhanced-scene" aria-hidden="true" id="enhancedScene"></div>
    <div class="cloud-layer" aria-hidden="true">
        <div class="cloud">â˜ï¸</div>
        <div class="cloud">â˜ï¸</div>
        <div class="cloud">â˜ï¸</div>
    </div>

    <!-- Hero Header -->
    <header class="masthead-hero hero-enhancements" role="banner">
        <!-- Hero Banner with Image and Title Overlay -->
        <div class="hero-banner">
            <div class="hero-image-container">
                <picture>
                    <source sizes="100vw"
                            srcset="Images/Characters/Gunnar.png 800w, Images/Characters/Gunnar.png 1200w, Images/Characters/Gunnar.png 1600w">
                    <img class="hero-banner__img"
                         src="Images/Characters/Gunnar.png"
                         alt="Baby Gunnar with Hundred Acre Wood friends in the Hundred Acre Wood"
                         width="1600"
                         height="900"
                         loading="eager">
                </picture>
                <!-- Decorative corner elements -->
                <div class="hero-corner-decoration top-left" aria-hidden="true">ðŸŒ³</div>
                <div class="hero-corner-decoration top-right" aria-hidden="true">ðŸ¯</div>
                <div class="hero-corner-decoration bottom-left" aria-hidden="true">â¤ï¸</div>
                <div class="hero-corner-decoration bottom-right" aria-hidden="true">ðŸ</div>
            </div>
            
            <!-- Title Container with Background -->
            <div class="hero-title-container">
                <div class="title-background">
                    <h1 class="masthead-title">
                        <span class="title-line title-line--primary">Baby Gunnar's</span>
                        <span class="title-line title-line--secondary">Hundred Acre Wood Shower</span>
                    </h1>
                    <div class="title-underline" aria-hidden="true">
                        <span class="underline-dot">â€¢</span>
                        <span class="underline-dot">â€¢</span>
                        <span class="underline-dot">â€¢</span>
                    </div>
                    <p class="hero-subtitle">A storybook celebration with Pooh &amp; friends</p>
                </div>
            </div>
        </div>
        
        <!-- Decorative Elements -->
        <div class="hero-sparkles" aria-hidden="true" id="heroSparkles"></div>
        <div class="hero-bunting" aria-hidden="true">
            <span>âœ¨</span><span>ðŸŽˆ</span><span>ðŸ¯</span><span>ðŸŽ</span><span>ðŸ§¸</span><span>ðŸ“š</span><span>âœ¨</span>
        </div>
        <div class="hero-sheen" aria-hidden="true"></div>
        
        <!-- Hero Info Panel -->
        <div class="masthead-hero-inner">
            <section class="hero-panel">
                <!-- Event Badge -->
                <div class="hero-badge">
                    <div class="badge-icon" aria-hidden="true">
                        <div class="badge-icon-inner">ðŸŽ‰</div>
                    </div>
                    <div class="badge-copy">
                        <p class="badge-eyebrow">A Very Special</p>
                        <p class="badge-label">Hundred Acre Gathering</p>
                        <p class="badge-title">Virtual Baby Shower Celebration</p>
                    </div>
                    <div class="badge-meta">
                        <time class="badge-pill date" datetime="2025-06-15">
                            <span class="pill-icon" aria-hidden="true">ðŸ“…</span>
                            <span class="pill-text">June 15, 2025</span>
                        </time>
                        <div class="badge-pill location">
                            <span class="pill-icon" aria-hidden="true">ðŸ“</span>
                            <span class="pill-text">Online Celebration</span>
                        </div>
                    </div>
                </div>
                
                <!-- Hero Details Grid -->
                <div class="hero-details-grid">
                    <div class="hero-detail">
                        <div class="detail-icon" aria-hidden="true">ðŸ“š</div>
                        <div class="detail-content">
                            <h4 class="detail-title">Interactive Storybook</h4>
                            <p class="detail-text">Read through four charming chapters</p>
                        </div>
                    </div>
                    <div class="hero-detail">
                        <div class="detail-icon" aria-hidden="true">ðŸŽ®</div>
                        <div class="detail-content">
                            <h4 class="detail-title">Honey Game</h4>
                            <p class="detail-text">Help Pooh catch honey pots</p>
                        </div>
                    </div>
                    <div class="hero-detail">
                        <div class="detail-icon" aria-hidden="true">ðŸŽ</div>
                        <div class="detail-content">
                            <h4 class="detail-title">Gift Registry</h4>
                            <p class="detail-text">Share your wishes &amp; blessings</p>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="hero-actions">
                    <button class="hero-action-btn primary" type="button" onclick="scrollToChapter(1)">
                        <span class="btn-icon" aria-hidden="true">ðŸ“–</span>
                        <span class="btn-text">Begin the Story</span>
                    </button>
                    <button class="hero-action-btn secondary" type="button" onclick="scrollToChapter(2)">
                        <span class="btn-icon" aria-hidden="true">ðŸ¯</span>
                        <span class="btn-text">Play Honey Game</span>
                    </button>
                    <button class="hero-action-btn ghost" type="button" onclick="scrollToChapter(3)">
                        <span class="btn-icon" aria-hidden="true">ðŸŽ</span>
                        <span class="btn-text">View Registry</span>
                    </button>
                </div>
                
                <!-- Orientation Hint -->
                <div class="orientation-hint">
                    <div class="hint-icon" aria-hidden="true">ðŸ“±</div>
                    <p class="hint-text">For the best experience: Rotate for wider game view, or stay in portrait for lovely story reading.</p>
                </div>
            </section>
        </div>
    </header>

    <!-- Main Content -->
    <main class="book-container" id="storybook">
        <!-- Chapter Navigation -->
        <nav class="chapter-tracker" aria-label="Story chapters">
            <h2 class="sr-only">Chapter navigation</h2>
            <div class="tracker-row">
                <div class="tracker-label">Story path</div>
                <div class="book-progress" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
            </div>
            <div class="chapter-pill-row">
                <button class="chapter-pill sparkle active" type="button" data-chapter-target="1" aria-current="page">
                    <span class="pill-number">1</span>
                    <span class="pill-text">
                        <span class="pill-title">Welcome</span>
                        <span class="pill-detail">Invitation arrives</span>
                    </span>
                </button>
                <button class="chapter-pill sparkle" type="button" data-chapter-target="2">
                    <span class="pill-number">2</span>
                    <span class="pill-text">
                        <span class="pill-title">Honey Hunt</span>
                        <span class="pill-detail">Play the game</span>
                    </span>
                </button>
                <button class="chapter-pill sparkle" type="button" data-chapter-target="3">
                    <span class="pill-number">3</span>
                    <span class="pill-text">
                        <span class="pill-title">Gifts &amp; Wishes</span>
                        <span class="pill-detail">Registry &amp; guestbook</span>
                    </span>
                </button>
                <button class="chapter-pill sparkle" type="button" data-chapter-target="4">
                    <span class="pill-number">4</span>
                    <span class="pill-text">
                        <span class="pill-title">Celebration</span>
                        <span class="pill-detail">Welcome Gunnar</span>
                    </span>
                </button>
            </div>
        </nav>
        
        <!-- Story Pages -->
        <div class="book">
            <div class="pages-wrapper">
                <!-- Chapter 1 -->
                <article class="page active" data-chapter="1">
                    <header class="chapter-header">
                        <p class="chapter-number">Chapter One</p>
                        <h2 class="chapter-title">A Special Day in the Hundred Acre Wood</h2>
                        <p class="chapter-subtitle">An Invitation to Celebrate</p>
                        <span class="honey-drip" aria-hidden="true"></span>
                    </header>
                    <div class="page-content">
                        <p class="story-text">One fine spring day, in a corner of the Hundred Acre Wood where the sun shines warmly through the trees and the flowers bloom in cheerful colors, something wonderful was happening. All the forest friends were gathering, for there was to be a celebration unlike any other.</p>
                        <p class="story-text">"What sort of celebration?" you might ask. Well, it was the very best sortâ€”the kind that welcomes a new little friend to the world. A baby boy named Gunnar James was soon to arrive, and everyone in the Hundred Acre Wood wanted to share in the joy.</p>
                        <div class="chapter-illustrations">
                            <figure class="storybook-figure figure-theme-honey clickable-character" data-character="pooh">
                                <img src="Images/Characters/honey-bear.png"
                                     alt="Winnie the Pooh holding a honey pot"
                                     width="96"
                                     height="96"
                                     loading="eager">
                                <figcaption class="figure-copy">
                                    <div class="figure-name">Pooh brings the first pot</div>
                                    <p class="figure-note">"A baby celebration needs extra honey," he whispered as he dusted off the lid.</p>
                                </figcaption>
                                <div class="character-message" aria-live="polite"></div>
                            </figure>
                            <figure class="storybook-figure figure-theme-sky clickable-character" data-character="piglet">
                                <img src="Images/Characters/piglet.png"
                                     alt="Piglet carrying a welcome banner"
                                     width="96"
                                     height="96"
                                     loading="eager">
                                <figcaption class="figure-copy">
                                    <div class="figure-name">Piglet pins up the banner</div>
                                    <p class="figure-note">He fluttered through the clearing making sure every friend felt warmly invited.</p>
                                </figcaption>
                                <div class="character-message" aria-live="polite"></div>
                            </figure>
                        </div>
                        <p class="story-text">Winnie the Pooh, being a Bear of Very Little Brain but a Very Big Heart, knew that the most important thing for any celebration was honey. And not just a little honey, but lots and lots of it. After all, welcoming Baby Gunnar was a Very Important Matter.</p>
                        <p class="story-text">"But first," thought Pooh, looking up at his honey pots on the high shelf, "we'll need to gather more honey. Won't you help?"</p>
                        <div class="divider" aria-hidden="true">ðŸŒ³ ðŸŒ¸ ðŸ ðŸŒ¸ ðŸŒ³</div>
                    </div>
                </article>
                
                <!-- Chapter 2: Game -->
                <article class="page" data-chapter="2" id="honey-game">
                    <header class="chapter-header">
                        <p class="chapter-number">Chapter Two</p>
                        <h2 class="chapter-title">Pooh's Honey Gathering Adventure</h2>
                        <p class="chapter-subtitle">A Game of Skill and Sweetness</p>
                        <span class="honey-drip" aria-hidden="true"></span>
                    </header>
                    <div class="chapter-illustrations">
                        <figure class="storybook-figure figure-theme-forest clickable-character" data-character="tigger">
                            <img src="Images/Characters/tigger.png"
                                 alt="Tigger bouncing"
                                 width="96"
                                 height="96"
                                 loading="lazy">
                            <figcaption class="figure-copy">
                                <div class="figure-name">Tigger stakes out the course</div>
                                <p class="figure-note">He marked the path with springy footprints so every honey pot feels like an adventure to catch.</p>
                            </figcaption>
                            <div class="character-message" aria-live="polite"></div>
                        </figure>
                        <figure class="storybook-figure figure-theme-honey clickable-character" data-character="roo">
                            <img src="Images/Characters/roo.png"
                                 alt="Roo cheering"
                                 width="96"
                                 height="96"
                                 loading="lazy">
                            <figcaption class="figure-copy">
                                <div class="figure-name">Roo cheers from the sidelines</div>
                                <p class="figure-note">"Mind the bees!" he giggled, handing out cozy scarves.</p>
                            </figcaption>
                            <div class="character-message" aria-live="polite"></div>
                        </figure>
                    </div>
                    
                    <!-- Embedded Honey Game -->
                    <div class="game-embed" id="gameEmbed">
                        <!-- Game Container -->
                        <div id="gameContainer" class="game-container">
                            <canvas id="gameCanvas" width="640" height="360" aria-label="Pooh catching honey pots"></canvas>
                        </div>
                    </div>
                    
                    <div class="game-description">
                        <h3>How to Play</h3>
                        <p>Help Winnie the Pooh collect honey pots while avoiding bees! Move left and right with arrow keys or on-screen controls. Chain catches to build combos for higher scores. Watch for special jars that grant shields!</p>
                        <div class="game-tips">
                            <div class="tip">
                                <span class="tip-icon">ðŸŽ¯</span>
                                <p><strong>Goal:</strong> Score as many points as you can in 60 seconds!</p>
                            </div>
                            <div class="tip">
                                <span class="tip-icon">ðŸ›¡ï¸</span>
                                <p><strong>Blue Jars:</strong> Give temporary shield protection</p>
                            </div>
                            <div class="tip">
                                <span class="tip-icon">ðŸ†</span>
                                <p><strong>Golden Jars:</strong> Worth bonus points</p>
                            </div>
                        </div>
                    </div>
                </article>
                
                <!-- Chapter 3: Gifts & Wishes -->
                <article class="page" data-chapter="3">
                    <header class="chapter-header">
                        <p class="chapter-number">Chapter Three</p>
                        <h2 class="chapter-title">Gifts from the Heart</h2>
                        <p class="chapter-subtitle">Preparing for Baby Gunnar's Arrival</p>
                        <span class="honey-drip" aria-hidden="true"></span>
                    </header>
                    <div class="page-content">
                        <section class="story-section">
                            <p class="story-text">Back in the Hundred Acre Wood, Pooh sat thoughtfully by his honey pots. "Honey is wonderful," he mused, "but I wonder what else a growing bearâ€”oh, I mean babyâ€”might need?"</p>
                            <p class="story-text">Just then, Piglet came scurrying up, holding something soft. "I was thinking, Pooh," he said in his small voice, "perhaps something cozy for chilly evenings?"</p>
                            <div class="dialogue-bubble dialogue-piglet">
                                <div class="bubble-arrow"></div>
                                <p>"Something soft and warm, for when the wind howls!"</p>
                                <span class="speaker">â€” Piglet</span>
                            </div>
                        </section>
                        
                        <div class="chapter-illustrations">
                            <figure class="storybook-figure figure-theme-forest clickable-character" data-character="piglet">
                                <img src="Images/Characters/piglet.png"
                                     alt="Piglet with blanket"
                                     width="96"
                                     height="96"
                                     loading="lazy">
                                <figcaption class="figure-copy">
                                    <div class="figure-name">Piglet's Cozy Corner</div>
                                    <p class="figure-note">Found the snuggliest blanket in all the Wood.</p>
                                </figcaption>
                                <div class="character-message" aria-live="polite"></div>
                            </figure>
                            <figure class="storybook-figure figure-theme-honey clickable-character" data-character="pooh">
                                <img src="Images/Characters/honey-bear.png"
                                     alt="Pooh thinking"
                                     width="96"
                                     height="96"
                                     loading="lazy">
                                <figcaption class="figure-copy">
                                    <div class="figure-name">Pooh's Pondering</div>
                                    <p class="figure-note">Thinking of practical things (between honey snacks).</p>
                                </figcaption>
                                <div class="character-message" aria-live="polite"></div>
                            </figure>
                            <figure class="storybook-figure figure-theme-sky clickable-character" data-character="tigger">
                                <img src="Images/Characters/tigger.png"
                                     alt="Tigger bouncing"
                                     width="96"
                                     height="96"
                                     loading="lazy">
                                <figcaption class="figure-copy">
                                    <div class="figure-name">Tigger's Toys</div>
                                    <p class="figure-note">Bounced in with the bounciest ideas!</p>
                                </figcaption>
                                <div class="character-message" aria-live="polite"></div>
                            </figure>
                        </div>
                        
                        <section class="story-section">
                            <p class="story-text">Soon, all the friends had gathered with their ideas. Tigger bounced about toys that bounce, Eeyore suggested "something useful that won't blow away," and Rabbit began making a very organized list.</p>
                            <div class="dialogue-bubble dialogue-pooh">
                                <div class="bubble-arrow"></div>
                                <p>"The most important thing," said Pooh wisely, "is that Baby Gunnar knows he is surrounded by love. But if you'd like to bring something special, his parents have shared a few ideas that would be helpful."</p>
                                <span class="speaker">â€” Pooh Bear</span>
                            </div>
                        </section>
                        
                        <div class="registry-container">
                            <aside class="registry-section">
                                <div class="registry-header">
                                    <div class="registry-icon" aria-hidden="true">ðŸŽ</div>
                                    <div>
                                        <h3>Baby Gunnar's Registry</h3>
                                        <p class="registry-subtitle">Your presence is the greatest present, but if you'd like to contribute to his woodland adventures:</p>
                                    </div>
                                </div>
                                <div class="registry-grid">
                                    <a class="registry-card" href="https://my.babylist.com/lea-hardesty" rel="noopener" target="_blank">
                                        <div class="card-icon">ðŸŽ¯</div>
                                        <div class="card-content">
                                            <h4>babylist Registry</h4>
                                            <p>For everyday essentials and nursery items</p>
                                            <span class="card-link">Browse registry â†’</span>
                                        </div>
                                    </a>
                                    <div class="registry-card gift-idea-card">
                                        <div class="card-icon">ðŸ’¡</div>
                                        <div class="card-content">
                                            <h4>Gift Ideas</h4>
                                            <ul class="gift-ideas">
                                                <li>Board books &amp; stories</li>
                                                <li>Woodland-themed clothing</li>
                                                <li>Soft blankets &amp; swaddles</li>
                                                <li>Diapers &amp; essentials</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </aside>
                        </div>
                        
                        <section class="nursery-details">
                            <h3><span aria-hidden="true">ðŸ§¸</span> Nursery Details</h3>
                            <div class="details-grid">
                                <div class="detail-card">
                                    <div class="detail-icon">ðŸŽ¨</div>
                                    <div class="detail-content">
                                        <h4>Theme</h4>
                                        <p>Hundred Acre Wood Adventures</p>
                                        <small>Featuring Winnie the Pooh &amp; friends</small>
                                    </div>
                                </div>
                                <div class="detail-card">
                                    <div class="detail-icon">ðŸŒˆ</div>
                                    <div class="detail-content">
                                        <h4>Colors</h4>
                                        <p>Honey gold, Pooh red, sage green, cream</p>
                                        <small>Soft &amp; soothing woodland palette</small>
                                    </div>
                                </div>
                                <div class="detail-card">
                                    <div class="detail-icon">ðŸ“š</div>
                                    <div class="detail-content">
                                        <h4>Favorite Items</h4>
                                        <p>Swaddles, sleepers, board books, cozy blankets</p>
                                    </div>
                                </div>
                                <div class="detail-card">
                                    <div class="detail-icon">ðŸ“</div>
                                    <div class="detail-content">
                                        <h4>Location</h4>
                                        <p>Arizona</p>
                                        <small>Where adventures begin</small>
                                    </div>
                                </div>
                            </div>
                        </section>
                        
                        <section class="wishes-section">
                            <div class="wishes-header">
                                <h3>Share Your Wishes <span aria-hidden="true">âœ¨</span></h3>
                                <p>Leave wisdom, well-wishes, or favorite childhood memories for Gunnar's storybook</p>
                            </div>
                            <div class="wishes-form-container">
                                <form class="enhanced-form" id="wishesForm">
                                    <div class="form-grid">
                                        <div class="form-field">
                                            <label for="guestName">Your Name</label>
                                            <input type="text" id="guestName" placeholder="How should we call you?" required maxlength="80">
                                        </div>
                                        <div class="form-field">
                                            <label for="guestRelation">Your Relation</label>
                                            <select id="guestRelation">
                                                <option value="">Choose one...</option>
                                                <option value="family">Family</option>
                                                <option value="friend">Friend</option>
                                                <option value="colleague">Colleague</option>
                                                <option value="woodland-friend">Woodland Friend</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-field">
                                        <label for="wishMessage">Your Message</label>
                                        <textarea id="wishMessage" 
                                                  placeholder="What wisdom or wishes would you like to share with Baby Gunnar?..."
                                                  required
                                                  rows="4"
                                                  maxlength="500"></textarea>
                                        <div class="character-count" id="wishCharCount">0/500 characters</div>
                                    </div>
                                    <div class="form-actions">
                                        <button class="submit-btn" type="submit">
                                            <span aria-hidden="true">âœï¸</span> Add to Gunnar's Storybook
                                        </button>
                                        <div class="form-feedback" id="wishFeedback" role="status" aria-live="polite"></div>
                                    </div>
                                </form>
                            </div>
                            <div class="sample-wishes">
                                <h4>Wishes from the Wood:</h4>
                                <div class="wish-examples">
                                    <blockquote class="wish-example">
                                        <p>"May your days be filled with wonder and your nights with sweet dreams."</p>
                                        <cite>â€” Owl</cite>
                                    </blockquote>
                                    <blockquote class="wish-example">
                                        <p>"Remember: even the smallest creatures can have the biggest hearts."</p>
                                        <cite>â€” Piglet</cite>
                                    </blockquote>
                                </div>
                            </div>
                        </section>
                        <div class="wishes-display" id="wishesDisplay">
                            <!-- Dynamic wishes will appear here -->
                        </div>
                    </div>
                </article>
                
                <!-- Chapter 4: Celebration -->
                <article class="page" data-chapter="4">
                    <header class="chapter-header">
                        <p class="chapter-number">Chapter Four</p>
                        <h2 class="chapter-title">The Gathering</h2>
                        <p class="chapter-subtitle">Celebrating What's to Come</p>
                        <span class="honey-drip" aria-hidden="true"></span>
                    </header>
                    <div class="page-content">
                        <p class="story-text">As the sun began to set over the Hundred Acre Wood, casting long golden shadows through the trees, Pooh and his friends gathered to celebrate the coming arrival of Baby Gunnar.</p>
                        <div class="chapter-illustrations">
                            <figure class="storybook-figure figure-theme-honey clickable-character" data-character="pooh">
                                <img src="Images/Characters/honey-bear.png"
                                     alt="Pooh with honey pot"
                                     width="96"
                                     height="96"
                                     loading="lazy">
                                <figcaption class="figure-copy">
                                    <div class="figure-name">Pooh's special pot</div>
                                    <p class="figure-note">He saved one golden pot for Gunnar's first visit.</p>
                                </figcaption>
                                <div class="character-message" aria-live="polite"></div>
                            </figure>
                            <figure class="storybook-figure figure-theme-sky clickable-character" data-character="gunnar">
                                <img src="Images/Characters/Gunnar.png"
                                     alt="Baby Gunnar"
                                     width="96"
                                     height="96"
                                     loading="lazy">
                                <figcaption class="figure-copy">
                                    <div class="figure-name">Coming Soon</div>
                                    <p class="figure-note">The Hundred Acre Wood awaits its newest friend.</p>
                                </figcaption>
                                <div class="character-message" aria-live="polite"></div>
                            </figure>
                        </div>
                        <p class="story-text">With honey gathered, gifts prepared, and wishes shared, everyone in the Hundred Acre Wood looked forward to the day they would meet Baby Gunnar. For as Pooh always said, "How lucky I am to have something to look forward to."</p>
                        
                        <div class="welcome-panel">
                            <div class="welcome-icon" aria-hidden="true">â­</div>
                            <h3 class="welcome-heading">We Can't Wait to Meet You!</h3>
                            <p class="welcome-subtitle">Baby Gunnar, your adventure in the Hundred Acre Wood is about to begin</p>
                        </div>
                        
                        <section class="countdown-section">
                            <h3>Until We Meet Bear</h3>
                            <div class="countdown-display">
                                <div class="countdown-item">
                                    <span class="countdown-number" id="days">--</span>
                                    <span class="countdown-label">Days</span>
                                </div>
                                <div class="countdown-item">
                                    <span class="countdown-number" id="hours">--</span>
                                    <span class="countdown-label">Hours</span>
                                </div>
                            </div>
                            <p class="countdown-note">Expected arrival: <time datetime="2025-08">Late August 2025</time></p>
                        </section>
                        
                        <div class="honey-jar-interactive">
                            <div aria-hidden="true">ðŸ¯</div>
                            <h3>Gunnar's Honey Jar of Hopes</h3>
                            <p>Share your hopes and dreams for Baby Gunnar's future adventures.</p>
                            <button class="btn primary" id="addHopeBtn" type="button">âž• Add Your Hope</button>
                            <ul class="hopes-list" id="hopesList"></ul>
                        </div>
                        
                        <aside class="final-thought">
                            <blockquote>
                                <p>"Sometimes the smallest things take up the most room in your heart."<br>
                                <cite>â€” Winnie the Pooh</cite></p>
                            </blockquote>
                            <p class="signature">With love from all your friends in the Hundred Acre Wood</p>
                        </aside>
                    </div>
                </article>
            </div>
            
            <!-- Navigation -->
            <nav class="chapter-nav" aria-label="Page navigation">
                <button class="chapter-nav-btn" id="prevBtn" type="button">Previous</button>
                <div class="chapter-indicator" id="pageIndicator">Chapter 1 of 4</div>
                <button class="chapter-nav-btn next" id="nextBtn" type="button">Next</button>
            </nav>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer" role="contentinfo">
        <p>Made with â¤ï¸ and ðŸ¯ for Baby Gunnar's special day</p>
        <div class="footer-links">
            <button class="footer-link" id="printPageBtn" type="button">Print</button>
            <button class="footer-link" id="sharePageBtn" type="button">Share</button>
            <button class="footer-link" id="toggleAnimationsBtn" type="button">Animations: On</button>
        </div>
    </footer>

    <!-- Audio Elements -->
    <audio id="bgMusic" preload="auto" loop>
        <source src="media/hundred-acre-lullaby.mp3" type="audio/mpeg">
    </audio>

    <!-- JavaScript -->
    <script>
        // Main JavaScript functionality
        document.addEventListener("DOMContentLoaded", function() {
            // Navigation system
            const pages = document.querySelectorAll('.page');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const progressFill = document.getElementById('progressFill');
            const pageIndicator = document.getElementById('pageIndicator');
            const chapterPills = document.querySelectorAll('[data-chapter-target]');
            
            let currentPage = 0;
            
            function updateNavigation() {
                // Update active page
                pages.forEach((page, index) => {
                    page.classList.toggle('active', index === currentPage);
                });
                
                // Update progress bar
                const progress = ((currentPage + 1) / pages.length) * 100;
                progressFill.style.width = `${progress}%`;
                progressFill.setAttribute('aria-valuenow', progress);
                
                // Update indicator
                pageIndicator.textContent = `Chapter ${currentPage + 1} of ${pages.length}`;
                
                // Update chapter pills
                chapterPills.forEach((pill, index) => {
                    const isActive = index === currentPage;
                    pill.classList.toggle('active', isActive);
                    pill.setAttribute('aria-current', isActive ? 'page' : 'false');
                });
                
                // Scroll to top of page
                pages[currentPage].scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
            
            // Navigation button handlers
            if (nextBtn) {
                nextBtn.addEventListener('click', function() {
                    if (currentPage < pages.length - 1) {
                        currentPage++;
                        updateNavigation();
                    }
                });
            }
            
            if (prevBtn) {
                prevBtn.addEventListener('click', function() {
                    if (currentPage > 0) {
                        currentPage--;
                        updateNavigation();
                    }
                });
            }
            
            // Chapter pill handlers
            chapterPills.forEach(function(pill) {
                pill.addEventListener('click', function() {
                    const target = parseInt(pill.getAttribute('data-chapter-target')) - 1;
                    currentPage = target;
                    updateNavigation();
                });
            });
            
            // Make scrollToChapter available globally
            window.scrollToChapter = function(chapterNumber) {
                currentPage = chapterNumber - 1;
                updateNavigation();
            };
            
            // Clickable character functionality
            const characterLines = {
                pooh: [
                    "Pooh smiles and thinks this is the kind of day that simply needs more honey.",
                    "Pooh wonders if there's anything sweeter than welcoming a new little friend."
                ],
                piglet: [
                    "Piglet feels a little fluttery, but mostly excited for Baby Gunnar.",
                    "Piglet straightens the banner one more time, just to be sure."
                ],
                tigger: [
                    "Tigger announces that baby celebrations are what Tiggers do best!",
                    "Tigger promises to teach Gunnar the very bounciest bounces."
                ],
                roo: [
                    "Roo practices tiny jumps, imagining the games they'll play someday.",
                    "Roo says, \"I can't wait to show you all my favorite puddles!\""
                ],
                gunnar: [
                    "Everyone is already saving their warmest hugs for you.",
                    "Your story is just beginning, and the whole Wood is cheering."
                ]
            };
            
            document.querySelectorAll('.clickable-character').forEach(function(character) {
                const charType = character.getAttribute('data-character');
                const messageEl = character.querySelector('.character-message');
                
                character.addEventListener('click', function() {
                    const lines = characterLines[charType] || ["A quiet, happy thought drifts through the leaves."];
                    const randomLine = lines[Math.floor(Math.random() * lines.length)];
                    messageEl.textContent = randomLine;
                });
            });
            
            // Wishes form functionality
            const wishesForm = document.getElementById('wishesForm');
            const wishesDisplay = document.getElementById('wishesDisplay');
            const wishFeedback = document.getElementById('wishFeedback');
            const wishCharCount = document.getElementById('wishCharCount');
            const wishMessage = document.getElementById('wishMessage');
            
            // Load existing wishes from localStorage
            function loadWishes() {
                const savedWishes = localStorage.getItem('gunnarWishes');
                if (savedWishes) {
                    wishesDisplay.innerHTML = savedWishes;
                }
            }
            
            // Character counter
            if (wishMessage) {
                wishMessage.addEventListener('input', function() {
                    const remaining = 500 - this.value.length;
                    wishCharCount.textContent = `${this.value.length}/500 characters`;
                });
            }
            
            // Form submission
            if (wishesForm) {
                wishesForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    const name = document.getElementById('guestName').value.trim();
                    const relation = document.getElementById('guestRelation').value;
                    const message = document.getElementById('wishMessage').value.trim();
                    
                    if (!name || !message) {
                        wishFeedback.textContent = 'Please fill in your name and message.';
                        wishFeedback.style.color = '#e53e3e';
                        return;
                    }
                    
                    // Create wish element
                    const wishElement = document.createElement('div');
                    wishElement.className = 'wish-card';
                    wishElement.innerHTML = `
                        <div class="wish-header">
                            <strong>${name}</strong>
                            ${relation ? '<span class="wish-relation">â€¢ ' + relation + '</span>' : ''}
                        </div>
                        <div class="wish-message">${message.replace(/\n/g, '<br>')}</div>
                        <div class="wish-date">${new Date().toLocaleDateString()}</div>
                    `;
                    
                    // Add to display
                    wishesDisplay.prepend(wishElement);
                    
                    // Save to localStorage
                    saveWishes();
                    
                    // Clear form
                    this.reset();
                    wishCharCount.textContent = '0/500 characters';
                    
                    // Show success message
                    wishFeedback.textContent = 'Thank you! Your wish has been added to Gunnar\'s storybook.';
                    wishFeedback.style.color = '#38a169';
                    
                    // Clear feedback after 5 seconds
                    setTimeout(function() {
                        wishFeedback.textContent = '';
                    }, 5000);
                });
            }
            
            function saveWishes() {
                localStorage.setItem('gunnarWishes', wishesDisplay.innerHTML);
            }
            
            // Countdown functionality
            function updateCountdown() {
                const targetDate = new Date('2025-08-01').getTime();
                const now = Date.now();
                const difference = targetDate - now;
                
                if (difference > 0) {
                    const days = Math.floor(difference / (1000 * 60 * 60 * 24));
                    const hours = Math.floor((difference % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                    
                    const daysElement = document.getElementById('days');
                    const hoursElement = document.getElementById('hours');
                    
                    if (daysElement) daysElement.textContent = days;
                    if (hoursElement) hoursElement.textContent = hours;
                }
            }
            
            // Honey jar hopes
            const addHopeBtn = document.getElementById('addHopeBtn');
            const hopesList = document.getElementById('hopesList');
            
            if (addHopeBtn && hopesList) {
                addHopeBtn.addEventListener('click', function() {
                    const hope = prompt('What hope or dream would you like to share for Baby Gunnar?');
                    if (hope && hope.trim()) {
                        const li = document.createElement('li');
                        li.textContent = hope.trim();
                        hopesList.appendChild(li);
                    }
                });
            }
            
            // Footer actions
            const printBtn = document.getElementById('printPageBtn');
            if (printBtn) {
                printBtn.addEventListener('click', function() {
                    window.print();
                });
            }
            
            const shareBtn = document.getElementById('sharePageBtn');
            if (shareBtn) {
                shareBtn.addEventListener('click', function() {
                    if (navigator.share) {
                        navigator.share({
                            title: document.title,
                            text: 'Check out Baby Gunnar\'s Hundred Acre Wood Adventure!',
                            url: window.location.href
                        });
                    } else {
                        navigator.clipboard.writeText(window.location.href);
                        alert('Link copied to clipboard!');
                    }
                });
            }
            
            const toggleAnimationsBtn = document.getElementById('toggleAnimationsBtn');
            if (toggleAnimationsBtn) {
                toggleAnimationsBtn.addEventListener('click', function() {
                    document.body.classList.toggle('animations-off');
                    this.textContent = document.body.classList.contains('animations-off') 
                        ? 'Animations: Off' 
                        : 'Animations: On';
                });
            }
            
            // Initialize
            loadWishes();
            updateCountdown();
            setInterval(updateCountdown, 3600000); // Update every hour
        });
    </script>
</body>
</html>
